var vt=Object.defineProperty;var Ce=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable;var Ue=(r,e,l)=>e in r?vt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[e]=l,ye=(r,e)=>{for(var l in e||(e={}))pt.call(e,l)&&Ue(r,l,e[l]);if(Ce)for(var l of Ce(e))gt.call(e,l)&&Ue(r,l,e[l]);return r};import{C as te,S as ne,i as se,s as oe,e as S,t as A,k as j,c as q,a as N,g as L,d as h,n as H,b as C,f as T,H as w,V as je,J as Q,I as z,W as we,L as W,X as ge,h as ue,U as He,r as X,u as D,w as Z,x as E,Y as _e,j as G,m as J,o as Y,v as F,l as he,p as Be,q as Pe,K as Ae,M as Le,A as We,B as Me,Z as Ie,_ as Ee,$ as de,a0 as Oe}from"../../chunks/vendor-ffbec459.js";import{g as Ge,p as $t,C as ce,O as bt}from"../../chunks/Card-5ecbaa3b.js";import"../../chunks/singletons-12a22614.js";const $e=te(!1),me=te("");let Je="";Je=localStorage.getItem("recovery")||"";const Ye=te(Je);Ye.subscribe(r=>{localStorage.setItem("recovery",r)});const Te=te(""),Fe=te({}),Ve=te([]),Ke=te({}),fe=te({location:"",cardIndex:""}),Re=te("profile"),ae=te({show:!1,closable:!0,style:"",message:""});var kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isHost:$e,code:me,recovery:Ye,nickname:Te,hand:Fe,players:Ve,discard:Ke,focused:fe,state:Re,overlay:ae});function yt(r){r.error?ae.set({style:"warning",closable:!0,message:r.error,show:!0}):r.type==="update"?kt[r.store].set(r.data):r.type==="redirect"&&Ge(r.url+(r.message?"?message="+encodeURIComponent(r.message):""))}const ze="localhost:8080",Qe=JSON.parse("false");let Se="";me.subscribe(r=>{Se=r});let ve;async function ie(r,e={},l=!1){try{if(l===!0){const t=await fetch(`http${Qe?"s":""}://${ze}${r}`,{method:"POST",body:JSON.stringify(e)});if(t.ok&&t)return t.status===204?{}:t.json();throw new Error(t.statusText)}else ve||(ve=await wt()),ve.addEventListener("message",t=>{yt(JSON.parse(t.data))}),ve.addEventListener("close",t=>{ae.set({show:!0,closable:!1,style:"error",message:"Womp womp. The server just went offline! You'll be reconnected as soon as possible..."})}),ve||console.log("Can't connect to the server :("),ve.send(JSON.stringify({route:r,body:ye(ye({},e),Se!==""?{code:Se}:{})}))}catch(t){console.error(t),ae.set({show:!0,closable:!0,style:"error",message:"Womp womp. The server that holds all the rooms isn't available, so you won't be able to play. Try again in a bit."})}}function wt(){return new Promise(function(r,e){var l=new WebSocket(`ws${Qe?"s":""}://${ze}/ws`);l.onopen=function(){r(l)},l.onerror=function(t){e(t)}})}function It(r){let e,l,t,n,o,s,a=(r[1]?"Create":"Join")+"",i,f,_,g;return{c(){e=S("p"),l=A("What's your name?"),t=j(),n=S("input"),o=j(),s=S("button"),i=A(a),f=A(" room"),this.h()},l(c){e=q(c,"P",{});var m=N(e);l=L(m,"What's your name?"),m.forEach(h),t=H(c),n=q(c,"INPUT",{type:!0,placeholder:!0}),o=H(c),s=q(c,"BUTTON",{});var v=N(s);i=L(v,a),f=L(v," room"),v.forEach(h),this.h()},h(){C(n,"type","text"),C(n,"placeholder","...")},m(c,m){T(c,e,m),w(e,l),T(c,t,m),T(c,n,m),je(n,r[0]),T(c,o,m),T(c,s,m),w(s,i),w(s,f),_||(g=[Q(n,"input",r[3]),Q(s,"click",r[4])],_=!0)},p(c,[m]){m&1&&n.value!==c[0]&&je(n,c[0])},i:z,o:z,d(c){c&&h(e),c&&h(t),c&&h(n),c&&h(o),c&&h(s),_=!1,we(g)}}}function Et(r,e,l){let t,n,o,s;W(r,me,m=>l(5,t=m)),W(r,ae,m=>l(6,n=m)),W(r,$t,m=>l(7,o=m)),W(r,$e,m=>l(8,s=m));let a;!o.query.get("code")&&typeof o.query.get("create")!="string"&&Ge("/");const i=typeof o.query.get("create")=="string";i&&ge($e,s=!0,s);const f=o.query.get("code");f&&ge(me,t=f.toLowerCase(),t);async function _(){if(!a){ge(ae,n={show:!0,closable:!0,style:"warning",message:"Sorry, but you can't be nameless. Enter a name."},n);return}i||await ie("join",{code:t,nickname:a}),i&&await ie("create",{nickname:a})}function g(){a=this.value,l(0,a)}return[a,i,_,g,()=>{_()}]}class Ot extends ne{constructor(e){super();se(this,e,Et,It,oe,{})}}function Tt(r){let e;return{c(){e=A(r[0])},l(l){e=L(l,r[0])},m(l,t){T(l,e,t)},p(l,[t]){t&1&&ue(e,l[0])},i:z,o:z,d(l){l&&h(e)}}}function Vt(r,e,l){let t="";return setInterval(()=>{t.length<6?l(0,t+="."):l(0,t="")},500),[t]}class St extends ne{constructor(e){super();se(this,e,Vt,Tt,oe,{})}}function Xe(r,e,l){const t=r.slice();return t[9]=e[l],t}function qt(r){let e,l,t,n;return{c(){e=S("button"),l=A("Share link"),this.h()},l(o){e=q(o,"BUTTON",{class:!0});var s=N(e);l=L(s,"Share link"),s.forEach(h),this.h()},h(){C(e,"class","bg-red")},m(o,s){T(o,e,s),w(e,l),t||(n=Q(e,"click",r[5]),t=!0)},p:z,d(o){o&&h(e),t=!1,n()}}}function Ze(r){let e,l,t,n;function o(){return r[6](r[9])}return{c(){e=S("button"),l=A("Kick"),this.h()},l(s){e=q(s,"BUTTON",{class:!0});var a=N(e);l=L(a,"Kick"),a.forEach(h),this.h()},h(){C(e,"class","svelte-1om871g")},m(s,a){T(s,e,a),w(e,l),t||(n=Q(e,"click",o),t=!0)},p(s,a){r=s},d(s){s&&h(e),t=!1,n()}}}function xe(r){let e,l,t,n=r[9].nickname+"",o,s,a=(r[9].nickname===r[2]?"(You)":"")+"",i,f,_=(r[9].isHost?"(Host)":"")+"",g,c,m,v=r[3]&&r[9].nickname!==r[2]&&Ze(r);return{c(){e=S("div"),l=S("span"),t=S("b"),o=A(n),s=j(),i=A(a),f=j(),g=A(_),c=j(),v&&v.c(),m=j(),this.h()},l(O){e=q(O,"DIV",{class:!0});var V=N(e);l=q(V,"SPAN",{});var u=N(l);t=q(u,"B",{});var b=N(t);o=L(b,n),b.forEach(h),s=H(u),i=L(u,a),f=H(u),g=L(u,_),u.forEach(h),c=H(V),v&&v.l(V),m=H(V),V.forEach(h),this.h()},h(){C(e,"class","player svelte-1om871g")},m(O,V){T(O,e,V),w(e,l),w(l,t),w(t,o),w(l,s),w(l,i),w(l,f),w(l,g),w(e,c),v&&v.m(e,null),w(e,m)},p(O,V){V&2&&n!==(n=O[9].nickname+"")&&ue(o,n),V&6&&a!==(a=(O[9].nickname===O[2]?"(You)":"")+"")&&ue(i,a),V&2&&_!==(_=(O[9].isHost?"(Host)":"")+"")&&ue(g,_),O[3]&&O[9].nickname!==O[2]?v?v.p(O,V):(v=Ze(O),v.c(),v.m(e,m)):v&&(v.d(1),v=null)},d(O){O&&h(e),v&&v.d()}}}function Dt(r){let e,l,t,n;return t=new St({}),{c(){e=S("span"),l=A("Wating for host"),G(t.$$.fragment),this.h()},l(o){e=q(o,"SPAN",{class:!0});var s=N(e);l=L(s,"Wating for host"),J(t.$$.fragment,s),s.forEach(h),this.h()},h(){C(e,"class","dark-block")},m(o,s){T(o,e,s),w(e,l),Y(t,e,null),n=!0},p:z,i(o){n||(E(t.$$.fragment,o),n=!0)},o(o){D(t.$$.fragment,o),n=!1},d(o){o&&h(e),F(t)}}}function Nt(r){let e,l,t,n;return{c(){e=S("button"),l=A("Start game"),this.h()},l(o){e=q(o,"BUTTON",{class:!0});var s=N(e);l=L(s,"Start game"),s.forEach(h),this.h()},h(){C(e,"class","bg-yellow")},m(o,s){T(o,e,s),w(e,l),t||(n=Q(e,"click",r[7]),t=!0)},p:z,i:z,o:z,d(o){o&&h(e),t=!1,n()}}}function Ct(r){let e,l,t,n,o=`${window.location.origin}/game?code=${r[0].toUpperCase()}`,s,a,i,f,_,g,c,m,v,O,V,u,b,k,I,R,$,y,p,B=navigator.share&&qt(r),le=r[1],P=[];for(let d=0;d<le.length;d+=1)P[d]=xe(Xe(r,le,d));const K=[Nt,Dt],re=[];function qe(d,U){return d[3]?0:1}return u=qe(r),b=re[u]=K[u](r),{c(){e=S("h2"),l=A("Invite"),t=j(),n=S("div"),s=A(o),a=j(),i=S("button"),f=A("Copy game link"),_=j(),B&&B.c(),g=j(),c=S("h2"),m=A("Players"),v=j(),O=S("div");for(let d=0;d<P.length;d+=1)P[d].c();V=j(),b.c(),k=j(),I=S("button"),R=A("Leave room"),this.h()},l(d){e=q(d,"H2",{class:!0});var U=N(e);l=L(U,"Invite"),U.forEach(h),t=H(d),n=q(d,"DIV",{class:!0});var ee=N(n);s=L(ee,o),ee.forEach(h),a=H(d),i=q(d,"BUTTON",{class:!0});var M=N(i);f=L(M,"Copy game link"),M.forEach(h),_=H(d),B&&B.l(d),g=H(d),c=q(d,"H2",{style:!0,class:!0});var pe=N(c);m=L(pe,"Players"),pe.forEach(h),v=H(d),O=q(d,"DIV",{class:!0});var De=N(O);for(let ke=0;ke<P.length;ke+=1)P[ke].l(De);De.forEach(h),V=H(d),b.l(d),k=H(d),I=q(d,"BUTTON",{class:!0,style:!0});var Ne=N(I);R=L(Ne,"Leave room"),Ne.forEach(h),this.h()},h(){C(e,"class","svelte-1om871g"),C(n,"class","code svelte-1om871g"),C(i,"class","bg-green"),C(c,"style","m"),C(c,"class","svelte-1om871g"),C(O,"class","players-list svelte-1om871g"),C(I,"class","bg-blue"),He(I,"margin-top","auto"),He(I,"margin-bottom","2rem")},m(d,U){T(d,e,U),w(e,l),T(d,t,U),T(d,n,U),w(n,s),T(d,a,U),T(d,i,U),w(i,f),T(d,_,U),B&&B.m(d,U),T(d,g,U),T(d,c,U),w(c,m),T(d,v,U),T(d,O,U);for(let ee=0;ee<P.length;ee+=1)P[ee].m(O,null);T(d,V,U),re[u].m(d,U),T(d,k,U),T(d,I,U),w(I,R),$=!0,y||(p=[Q(i,"click",r[4]),Q(I,"click",r[8])],y=!0)},p(d,[U]){if((!$||U&1)&&o!==(o=`${window.location.origin}/game?code=${d[0].toUpperCase()}`)&&ue(s,o),navigator.share&&B.p(d,U),U&14){le=d[1];let M;for(M=0;M<le.length;M+=1){const pe=Xe(d,le,M);P[M]?P[M].p(pe,U):(P[M]=xe(pe),P[M].c(),P[M].m(O,null))}for(;M<P.length;M+=1)P[M].d(1);P.length=le.length}let ee=u;u=qe(d),u===ee?re[u].p(d,U):(X(),D(re[ee],1,1,()=>{re[ee]=null}),Z(),b=re[u],b?b.p(d,U):(b=re[u]=K[u](d),b.c()),E(b,1),b.m(k.parentNode,k))},i(d){$||(E(b),$=!0)},o(d){D(b),$=!1},d(d){d&&h(e),d&&h(t),d&&h(n),d&&h(a),d&&h(i),d&&h(_),B&&B.d(d),d&&h(g),d&&h(c),d&&h(v),d&&h(O),_e(P,d),d&&h(V),re[u].d(d),d&&h(k),d&&h(I),y=!1,we(p)}}}function Ut(r,e,l){let t,n,o,s;return W(r,me,c=>l(0,t=c)),W(r,Ve,c=>l(1,n=c)),W(r,Te,c=>l(2,o=c)),W(r,$e,c=>l(3,s=c)),[t,n,o,s,()=>{navigator.clipboard.writeText(`${window.location.origin}/game?code=${t.toUpperCase()}`)},()=>{navigator.share({title:"UNO Game Invite",url:`${window.location.origin}/game?code=${t.toUpperCase()}`})},c=>ie("kick",{target:c.nickname}),async()=>{await ie("startGame")},async()=>{await ie("leave")}]}class jt extends ne{constructor(e){super();se(this,e,Ut,Ct,oe,{})}}let x;fe.subscribe(r=>{x=r});function be(r,e=""){x.location===""||r==="hand"&&x.location==="hand"&&x.cardIndex!==e||r==="discard"&&x.location==="draw"||r==="draw"&&x.location==="discard"||x.location==="hand"&&x.cardIndex===""?fe.set({location:r,cardIndex:e}):r===x.location?fe.set({location:"",cardIndex:""}):(ie("move",{source:x.location,destination:r,cardIndex:x.cardIndex}),fe.set({location:"",cardIndex:""}))}function et(r,e,l){const t=r.slice();return t[6]=e[l][0],t[7]=e[l][1],t}function tt(r,e){let l,t,n;const o=[e[7],{focused:e[1].location==="hand"&&e[1].cardIndex===e[6]}];function s(){return e[3](e[6])}let a={};for(let i=0;i<o.length;i+=1)a=Me(a,o[i]);return t=new ce({props:a}),t.$on("click",s),{key:r,first:null,c(){l=he(),G(t.$$.fragment),this.h()},l(i){l=he(),J(t.$$.fragment,i),this.h()},h(){this.first=l},m(i,f){T(i,l,f),Y(t,i,f),n=!0},p(i,f){e=i;const _=f&3?Be(o,[f&1&&Pe(e[7]),{focused:e[1].location==="hand"&&e[1].cardIndex===e[6]}]):{};t.$set(_)},i(i){n||(E(t.$$.fragment,i),n=!0)},o(i){D(t.$$.fragment,i),n=!1},d(i){i&&h(l),F(t,i)}}}function Ht(r){let e,l,t,n=[],o=new Map,s,a,i,f=Object.entries(r[0]);const _=g=>g[6];for(let g=0;g<f.length;g+=1){let c=et(r,f,g),m=_(c);o.set(m,n[g]=tt(m,c))}return{c(){e=S("div"),l=S("div"),t=j();for(let g=0;g<n.length;g+=1)n[g].c();this.h()},l(g){e=q(g,"DIV",{class:!0});var c=N(e);l=q(c,"DIV",{class:!0}),N(l).forEach(h),t=H(c);for(let m=0;m<n.length;m+=1)n[m].l(c);c.forEach(h),this.h()},h(){C(l,"class","hand-bg svelte-oi1o73"),C(e,"class","hand svelte-oi1o73")},m(g,c){T(g,e,c),w(e,l),w(e,t);for(let m=0;m<n.length;m+=1)n[m].m(e,null);s=!0,a||(i=Q(l,"click",r[2]),a=!0)},p(g,[c]){c&3&&(f=Object.entries(g[0]),X(),n=Ae(n,c,_,1,g,f,o,e,Le,tt,null,et),Z())},i(g){if(!s){for(let c=0;c<f.length;c+=1)E(n[c]);s=!0}},o(g){for(let c=0;c<n.length;c+=1)D(n[c]);s=!1},d(g){g&&h(e);for(let c=0;c<n.length;c+=1)n[c].d();a=!1,i()}}}function Bt(r){const e=r.style.overflow;(!e||e==="visible")&&(r.style.overflow="hidden");const l=r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight;return r.style.overflow=e,l}function Pt(r,e,l){let t,n;W(r,Fe,f=>l(0,t=f)),W(r,fe,f=>l(1,n=f));let o;function s(){if(Bt(o)){for(let f=2;f<o.children.length;f++){const _=o.children[f];_.style.marginTop=(parseInt(_.style.marginTop)||0)-1.5+"px"}requestAnimationFrame(s)}}return We(()=>{o=document.getElementsByClassName("hand")[0],requestAnimationFrame(s)}),[t,n,()=>be("hand"),f=>be("hand",f)]}class At extends ne{constructor(e){super();se(this,e,Pt,Ht,oe,{})}}function lt(r,e,l){const t=r.slice();return t[4]=e[l][0],t[5]=e[l][1],t[7]=l,t}function rt(r,e,l){const t=r.slice();return t[8]=e[l],t[7]=l,t}function nt(r){let e,l;return e=new ce({props:{color:"black",symbol:"",floatLeft:!1,focused:r[0].location==="draw"&&r[7]===3}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.focused=t[0].location==="draw"&&t[7]===3),e.$set(o)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function st(r,e){let l,t,n;const o=[e[5],{floatLeft:!1},{focused:e[0].location==="discard"&&e[7]===Object.keys(e[1]).length-1}];let s={};for(let a=0;a<o.length;a+=1)s=Me(s,o[a]);return t=new ce({props:s}),{key:r,first:null,c(){l=he(),G(t.$$.fragment),this.h()},l(a){l=he(),J(t.$$.fragment,a),this.h()},h(){this.first=l},m(a,i){T(a,l,i),Y(t,a,i),n=!0},p(a,i){e=a;const f=i&3?Be(o,[i&2&&Pe(e[5]),o[1],{focused:e[0].location==="discard"&&e[7]===Object.keys(e[1]).length-1}]):{};t.$set(f)},i(a){n||(E(t.$$.fragment,a),n=!0)},o(a){D(t.$$.fragment,a),n=!1},d(a){a&&h(l),F(t,a)}}}function Lt(r){let e,l,t,n,o,s,a=[],i=new Map,f,_,g,c=[0,0,0,0],m=[];for(let u=0;u<4;u+=1)m[u]=nt(rt(r,c,u));const v=u=>D(m[u],1,1,()=>{m[u]=null});o=new ce({props:{color:"",symbol:"",style:"silhouette"}});let O=Object.entries(r[1]).reverse();const V=u=>u[4];for(let u=0;u<O.length;u+=1){let b=lt(r,O,u),k=V(b);i.set(k,a[u]=st(k,b))}return{c(){e=S("div"),l=S("div");for(let u=0;u<4;u+=1)m[u].c();t=j(),n=S("div"),G(o.$$.fragment),s=j();for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=q(u,"DIV",{class:!0});var b=N(e);l=q(b,"DIV",{class:!0});var k=N(l);for(let R=0;R<4;R+=1)m[R].l(k);k.forEach(h),t=H(b),n=q(b,"DIV",{class:!0});var I=N(n);J(o.$$.fragment,I),s=H(I);for(let R=0;R<a.length;R+=1)a[R].l(I);I.forEach(h),b.forEach(h),this.h()},h(){C(l,"class","svelte-q9m5ne"),C(n,"class","svelte-q9m5ne"),C(e,"class","piles svelte-q9m5ne")},m(u,b){T(u,e,b),w(e,l);for(let k=0;k<4;k+=1)m[k].m(l,null);w(e,t),w(e,n),Y(o,n,null),w(n,s);for(let k=0;k<a.length;k+=1)a[k].m(n,null);f=!0,_||(g=[Q(l,"click",r[2]),Q(n,"click",r[3])],_=!0)},p(u,[b]){if(b&1){c=[0,0,0,0];let k;for(k=0;k<4;k+=1){const I=rt(u,c,k);m[k]?(m[k].p(I,b),E(m[k],1)):(m[k]=nt(I),m[k].c(),E(m[k],1),m[k].m(l,null))}for(X(),k=4;k<4;k+=1)v(k);Z()}b&3&&(O=Object.entries(u[1]).reverse(),X(),a=Ae(a,b,V,1,u,O,i,n,Le,st,null,lt),Z())},i(u){if(!f){for(let b=0;b<4;b+=1)E(m[b]);E(o.$$.fragment,u);for(let b=0;b<O.length;b+=1)E(a[b]);f=!0}},o(u){m=m.filter(Boolean);for(let b=0;b<4;b+=1)D(m[b]);D(o.$$.fragment,u);for(let b=0;b<a.length;b+=1)D(a[b]);f=!1},d(u){u&&h(e),_e(m,u),F(o);for(let b=0;b<a.length;b+=1)a[b].d();_=!1,we(g)}}}function Wt(r,e,l){let t,n;return W(r,fe,a=>l(0,t=a)),W(r,Ke,a=>l(1,n=a)),[t,n,()=>be("draw"),()=>be("discard")]}class Mt extends ne{constructor(e){super();se(this,e,Wt,Lt,oe,{})}}function ot(r,e,l){const t=r.slice();return t[2]=e[l],t}function at(r,e,l){const t=r.slice();return t[5]=e[l],t}function it(r,e,l){const t=r.slice();return t[5]=e[l],t}function ct(r,e,l){const t=r.slice();return t[5]=e[l],t}function ft(r){let e,l,t=r[2].nickname+"",n,o,s,a,i,f,_,g,c,m=Array(Math.min(r[2].count,9)),v=[];for(let $=0;$<m.length;$+=1)v[$]=ut(ct(r,m,$));const O=$=>D(v[$],1,1,()=>{v[$]=null});let V=Array(r[2].count>9?9:0),u=[];for(let $=0;$<V.length;$+=1)u[$]=_t(it(r,V,$));const b=$=>D(u[$],1,1,()=>{u[$]=null});let k=Array(r[2].count>18?9:0),I=[];for(let $=0;$<k.length;$+=1)I[$]=ht(at(r,k,$));const R=$=>D(I[$],1,1,()=>{I[$]=null});return{c(){e=S("div"),l=S("div"),n=A(t),o=j(),s=S("div");for(let $=0;$<v.length;$+=1)v[$].c();a=j(),i=S("div");for(let $=0;$<u.length;$+=1)u[$].c();f=j(),_=S("div");for(let $=0;$<I.length;$+=1)I[$].c();g=j(),this.h()},l($){e=q($,"DIV",{class:!0});var y=N(e);l=q(y,"DIV",{class:!0});var p=N(l);n=L(p,t),p.forEach(h),o=H(y),s=q(y,"DIV",{class:!0});var B=N(s);for(let K=0;K<v.length;K+=1)v[K].l(B);a=H(B),i=q(B,"DIV",{class:!0});var le=N(i);for(let K=0;K<u.length;K+=1)u[K].l(le);le.forEach(h),f=H(B),_=q(B,"DIV",{class:!0});var P=N(_);for(let K=0;K<I.length;K+=1)I[K].l(P);P.forEach(h),B.forEach(h),g=H(y),y.forEach(h),this.h()},h(){C(l,"class","nickname svelte-1r6suq2"),C(i,"class","layered-count svelte-1r6suq2"),C(_,"class","layered-count svelte-1r6suq2"),C(s,"class","count svelte-1r6suq2"),C(e,"class","hand")},m($,y){T($,e,y),w(e,l),w(l,n),w(e,o),w(e,s);for(let p=0;p<v.length;p+=1)v[p].m(s,null);w(s,a),w(s,i);for(let p=0;p<u.length;p+=1)u[p].m(i,null);w(s,f),w(s,_);for(let p=0;p<I.length;p+=1)I[p].m(_,null);w(e,g),c=!0},p($,y){if((!c||y&1)&&t!==(t=$[2].nickname+"")&&ue(n,t),y&1){m=Array(Math.min($[2].count,9));let p;for(p=0;p<m.length;p+=1){const B=ct($,m,p);v[p]?(v[p].p(B,y),E(v[p],1)):(v[p]=ut(),v[p].c(),E(v[p],1),v[p].m(s,a))}for(X(),p=m.length;p<v.length;p+=1)O(p);Z()}if(y&1){V=Array($[2].count>9?9:0);let p;for(p=0;p<V.length;p+=1){const B=it($,V,p);u[p]?(u[p].p(B,y),E(u[p],1)):(u[p]=_t(),u[p].c(),E(u[p],1),u[p].m(i,null))}for(X(),p=V.length;p<u.length;p+=1)b(p);Z()}if(y&1){k=Array($[2].count>18?9:0);let p;for(p=0;p<k.length;p+=1){const B=at($,k,p);I[p]?(I[p].p(B,y),E(I[p],1)):(I[p]=ht(),I[p].c(),E(I[p],1),I[p].m(_,null))}for(X(),p=k.length;p<I.length;p+=1)R(p);Z()}},i($){if(!c){for(let y=0;y<m.length;y+=1)E(v[y]);for(let y=0;y<V.length;y+=1)E(u[y]);for(let y=0;y<k.length;y+=1)E(I[y]);c=!0}},o($){v=v.filter(Boolean);for(let y=0;y<v.length;y+=1)D(v[y]);u=u.filter(Boolean);for(let y=0;y<u.length;y+=1)D(u[y]);I=I.filter(Boolean);for(let y=0;y<I.length;y+=1)D(I[y]);c=!1},d($){$&&h(e),_e(v,$),_e(u,$),_e(I,$)}}}function ut(r){let e,l;return e=new ce({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p:z,i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function _t(r){let e,l;return e=new ce({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p:z,i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function ht(r){let e,l;return e=new ce({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p:z,i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function dt(r){let e,l,t=r[2].nickname!==r[1]&&ft(r);return{c(){t&&t.c(),e=he()},l(n){t&&t.l(n),e=he()},m(n,o){t&&t.m(n,o),T(n,e,o),l=!0},p(n,o){n[2].nickname!==n[1]?t?(t.p(n,o),o&3&&E(t,1)):(t=ft(n),t.c(),E(t,1),t.m(e.parentNode,e)):t&&(X(),D(t,1,1,()=>{t=null}),Z())},i(n){l||(E(t),l=!0)},o(n){D(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Gt(r){let e,l,t,n=r[0],o=[];for(let a=0;a<n.length;a+=1)o[a]=dt(ot(r,n,a));const s=a=>D(o[a],1,1,()=>{o[a]=null});return{c(){e=S("div"),l=S("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=q(a,"DIV",{class:!0});var i=N(e);l=q(i,"DIV",{class:!0});var f=N(l);for(let _=0;_<o.length;_+=1)o[_].l(f);f.forEach(h),i.forEach(h),this.h()},h(){C(l,"class","hands svelte-1r6suq2"),C(e,"class","players svelte-1r6suq2")},m(a,i){T(a,e,i),w(e,l);for(let f=0;f<o.length;f+=1)o[f].m(l,null);t=!0},p(a,[i]){if(i&3){n=a[0];let f;for(f=0;f<n.length;f+=1){const _=ot(a,n,f);o[f]?(o[f].p(_,i),E(o[f],1)):(o[f]=dt(_),o[f].c(),E(o[f],1),o[f].m(l,null))}for(X(),f=n.length;f<o.length;f+=1)s(f);Z()}},i(a){if(!t){for(let i=0;i<n.length;i+=1)E(o[i]);t=!0}},o(a){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)D(o[i]);t=!1},d(a){a&&h(e),_e(o,a)}}}function Jt(r,e,l){let t,n;return W(r,Ve,o=>l(0,t=o)),W(r,Te,o=>l(1,n=o)),[t,n]}class Yt extends ne{constructor(e){super();se(this,e,Jt,Gt,oe,{})}}function Ft(r){let e,l,t,n,o,s,a,i,f,_,g,c,m;return s=new Yt({}),i=new Mt({}),_=new At({}),{c(){e=S("div"),l=S("div"),t=S("button"),n=A("leave"),o=j(),G(s.$$.fragment),a=j(),G(i.$$.fragment),f=j(),G(_.$$.fragment),this.h()},l(v){e=q(v,"DIV",{class:!0});var O=N(e);l=q(O,"DIV",{class:!0});var V=N(l);t=q(V,"BUTTON",{});var u=N(t);n=L(u,"leave"),u.forEach(h),o=H(V),J(s.$$.fragment,V),a=H(V),J(i.$$.fragment,V),V.forEach(h),f=H(O),J(_.$$.fragment,O),O.forEach(h),this.h()},h(){C(l,"class","table svelte-1ckyml"),C(e,"class","game svelte-1ckyml")},m(v,O){T(v,e,O),w(e,l),w(l,t),w(t,n),w(l,o),Y(s,l,null),w(l,a),Y(i,l,null),w(e,f),Y(_,e,null),g=!0,c||(m=Q(t,"click",r[0]),c=!0)},p:z,i(v){g||(E(s.$$.fragment,v),E(i.$$.fragment,v),E(_.$$.fragment,v),g=!0)},o(v){D(s.$$.fragment,v),D(i.$$.fragment,v),D(_.$$.fragment,v),g=!1},d(v){v&&h(e),F(s),F(i),F(_),c=!1,m()}}}function Kt(r){return[()=>ie("leave")]}class Rt extends ne{constructor(e){super();se(this,e,Kt,Ft,oe,{})}}function mt(r){let e,l;return e=new bt({props:{style:r[1].style,message:r[1].message}}),e.$on("close",r[5]),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.style=t[1].style),n&2&&(o.message=t[1].message),e.$set(o)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function zt(r){let e,l,t,n,o;return l=new Rt({}),{c(){e=S("div"),G(l.$$.fragment),this.h()},l(s){e=q(s,"DIV",{class:!0});var a=N(e);J(l.$$.fragment,a),a.forEach(h),this.h()},h(){C(e,"class","svelte-hlo2q8")},m(s,a){T(s,e,a),Y(l,e,null),o=!0},p(s,a){r=s},i(s){o||(E(l.$$.fragment,s),Ie(()=>{n&&n.end(1),t=Ee(e,de,r[2]),t.start()}),o=!0)},o(s){D(l.$$.fragment,s),t&&t.invalidate(),n=Oe(e,de,r[3]),o=!1},d(s){s&&h(e),F(l),s&&n&&n.end()}}}function Qt(r){let e,l,t,n,o;return l=new jt({}),{c(){e=S("div"),G(l.$$.fragment),this.h()},l(s){e=q(s,"DIV",{class:!0});var a=N(e);J(l.$$.fragment,a),a.forEach(h),this.h()},h(){C(e,"class","svelte-hlo2q8")},m(s,a){T(s,e,a),Y(l,e,null),o=!0},p(s,a){r=s},i(s){o||(E(l.$$.fragment,s),Ie(()=>{n&&n.end(1),t=Ee(e,de,r[2]),t.start()}),o=!0)},o(s){D(l.$$.fragment,s),t&&t.invalidate(),n=Oe(e,de,r[3]),o=!1},d(s){s&&h(e),F(l),s&&n&&n.end()}}}function Xt(r){let e,l,t,n,o;return l=new Ot({}),{c(){e=S("div"),G(l.$$.fragment),this.h()},l(s){e=q(s,"DIV",{class:!0});var a=N(e);J(l.$$.fragment,a),a.forEach(h),this.h()},h(){C(e,"class","svelte-hlo2q8")},m(s,a){T(s,e,a),Y(l,e,null),o=!0},p(s,a){r=s},i(s){o||(E(l.$$.fragment,s),Ie(()=>{n&&n.end(1),t=Ee(e,de,r[2]),t.start()}),o=!0)},o(s){D(l.$$.fragment,s),t&&t.invalidate(),n=Oe(e,de,r[3]),o=!1},d(s){s&&h(e),F(l),s&&n&&n.end()}}}function Zt(r){let e,l,t,n,o,s=r[1].show&&mt(r);const a=[Xt,Qt,zt],i=[];function f(_,g){return _[0]==="profile"?0:_[0]==="lobby"?1:_[0]==="game"?2:-1}return~(t=f(r))&&(n=i[t]=a[t](r)),{c(){s&&s.c(),e=j(),l=S("div"),n&&n.c(),this.h()},l(_){s&&s.l(_),e=H(_),l=q(_,"DIV",{class:!0});var g=N(l);n&&n.l(g),g.forEach(h),this.h()},h(){C(l,"class","game svelte-hlo2q8")},m(_,g){s&&s.m(_,g),T(_,e,g),T(_,l,g),~t&&i[t].m(l,null),o=!0},p(_,[g]){_[1].show?s?(s.p(_,g),g&2&&E(s,1)):(s=mt(_),s.c(),E(s,1),s.m(e.parentNode,e)):s&&(X(),D(s,1,1,()=>{s=null}),Z());let c=t;t=f(_),t===c?~t&&i[t].p(_,g):(n&&(X(),D(i[c],1,1,()=>{i[c]=null}),Z()),~t?(n=i[t],n?n.p(_,g):(n=i[t]=a[t](_),n.c()),E(n,1),n.m(l,null)):n=null)},i(_){o||(E(s),E(n),o=!0)},o(_){D(s),D(n),o=!1},d(_){s&&s.d(_),_&&h(e),_&&h(l),~t&&i[t].d()}}}function xt(r,e,l){let t,n,o;W(r,me,f=>l(4,t=f)),W(r,Re,f=>l(0,n=f)),W(r,ae,f=>l(1,o=f)),We(()=>{ie("register",{recovery:localStorage.getItem("recovery")})});const s={x:400,duration:500},a={x:-400,duration:500},i=()=>{ge(ae,o.show=!1,o)};return r.$$.update=()=>{r.$$.dirty&17&&n==="lobby"&&window.history.replaceState(null,null,`?code=${t.toUpperCase()}`)},[n,o,s,a,t,i]}class nl extends ne{constructor(e){super();se(this,e,xt,Zt,oe,{})}}export{nl as default};
