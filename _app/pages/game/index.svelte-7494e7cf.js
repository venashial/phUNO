var Nt=Object.defineProperty;var Ze=Object.getOwnPropertySymbols;var Pt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var xe=(r,e,l)=>e in r?Nt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[e]=l,He=(r,e)=>{for(var l in e||(e={}))Pt.call(e,l)&&xe(r,l,e[l]);if(Ze)for(var l of Ze(e))jt.call(e,l)&&xe(r,l,e[l]);return r};import{C as ce,S as le,i as re,s as ne,e as b,t as M,k as U,c as k,a as w,g as z,d,n as N,b as O,f as D,F as p,a5 as et,M as se,J as F,a6 as je,O as Q,a7 as ve,h as _e,a1 as de,r as oe,u as S,w as ae,x as V,a8 as $e,j as G,m as Y,o as R,v as W,p as tt,q as lt,K as Bt,L as Mt,P as zt,N as Be,U as At,A as Oe,B as rt,a9 as Me,a2 as Se,a3 as Ce,a4 as Le,aa as Gt,l as nt,D as Yt,G as Rt,H as Wt,I as qt,ab as Jt,R as Kt,ac as Ft,ad as Qt,ae as Xt,af as be}from"../../chunks/vendor-fc926bc2.js";import{g as st,p as Zt,C as pe,r as xt,s as el,O as tl}from"../../chunks/Card-9de5feda.js";import"../../chunks/singletons-12a22614.js";const Ie=ce(!1),ke=ce("");let ot="";ot=localStorage.getItem("recovery")||"";const at=ce(ot);at.subscribe(r=>{localStorage.setItem("recovery",r)});const ze=ce(""),Ee=ce({}),Ae=ce([]),Te=ce({}),ge=ce({location:"",cardIndex:""}),it=ce("profile"),me=ce({show:!1,closable:!0,style:"",message:""}),De=ce({page:"",color:""}),ct=ce([]);var ll=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isHost:Ie,code:ke,recovery:at,nickname:ze,hand:Ee,players:Ae,discard:Te,focused:ge,state:it,overlay:me,gamePage:De,log:ct});function rl(r){r.error?me.set({style:"warning",closable:!0,message:r.error,show:!0}):r.type==="update"?ll[r.store].set(r.data):r.type==="redirect"&&st(r.url+(r.message?"?message="+encodeURIComponent(r.message):""))}const nl="api-uno.venashial.games",sl=JSON.parse("true");let Ge="";ke.subscribe(r=>{Ge=r});let Ue;async function ue(r="",e={},l=!1){try{(!Ue||Ue.readyState===3)&&(Ue=await ft()),Ue.send(JSON.stringify({route:r,body:He(He({},e),Ge!==""?{code:Ge}:{})}))}catch(t){console.error(t)}}function ft(r=0){return new Promise(function(e,l){console.log("Connecting...");const t=new WebSocket(`ws${sl?"s":""}://${nl}/ws`),n=setTimeout(()=>{l(new Error("WebSocket timeout")),console.log("Socket connection timed out."),clearTimeout(n),t.close()},3e3);t.onopen=()=>{clearTimeout(n),r>0&&(console.log(`Reconnected after ${r} tries`),me.set({show:!1,closable:!0,style:"",message:""}),ue("register",{recovery:localStorage.getItem("recovery")})),e(t)},t.onerror=o=>{console.log("Socket errored"),l(o)},t.onmessage=o=>{rl(JSON.parse(o.data))};let s=!1;window.onbeforeunload=()=>{s=!0},t.onclose=()=>{console.log("Socket closed!"),me.set({show:!0,closable:!1,style:"error",message:"Womp womp. The server just went offline! You'll be reconnected as soon as possible"+".".repeat(r)}),s||setTimeout(()=>ft(r+1).catch(()=>console.log("Reconnect failed")),r<10?3e3:1e4)}})}function ol(r){let e,l,t,n,s,o,a=(r[1]?"Create":"Join")+"",i,h,f,m;return{c(){e=b("p"),l=M("What's your name?"),t=U(),n=b("input"),s=U(),o=b("button"),i=M(a),h=M(" room"),this.h()},l(c){e=k(c,"P",{});var _=w(e);l=z(_,"What's your name?"),_.forEach(d),t=N(c),n=k(c,"INPUT",{type:!0,placeholder:!0}),s=N(c),o=k(c,"BUTTON",{});var u=w(o);i=z(u,a),h=z(u," room"),u.forEach(d),this.h()},h(){O(n,"type","text"),O(n,"placeholder","...")},m(c,_){D(c,e,_),p(e,l),D(c,t,_),D(c,n,_),et(n,r[0]),D(c,s,_),D(c,o,_),p(o,i),p(o,h),f||(m=[se(n,"input",r[3]),se(o,"click",r[4])],f=!0)},p(c,[_]){_&1&&n.value!==c[0]&&et(n,c[0])},i:F,o:F,d(c){c&&d(e),c&&d(t),c&&d(n),c&&d(s),c&&d(o),f=!1,je(m)}}}function al(r,e,l){let t,n,s,o;Q(r,ke,_=>l(5,t=_)),Q(r,me,_=>l(6,n=_)),Q(r,Zt,_=>l(7,s=_)),Q(r,Ie,_=>l(8,o=_));let a;!s.query.get("code")&&typeof s.query.get("create")!="string"&&st("/");const i=typeof s.query.get("create")=="string";i&&ve(Ie,o=!0,o);const h=s.query.get("code");h&&ve(ke,t=h.toLowerCase(),t);async function f(){if(!a){ve(me,n={show:!0,closable:!0,style:"warning",message:"Sorry, but you can't be nameless. Enter a name."},n);return}i||await ue("join",{code:t,nickname:a}),i&&await ue("create",{nickname:a})}function m(){a=this.value,l(0,a)}return[a,i,f,m,()=>{f()}]}class il extends le{constructor(e){super();re(this,e,al,ol,ne,{})}}function cl(r){let e;return{c(){e=M(r[0])},l(l){e=z(l,r[0])},m(l,t){D(l,e,t)},p(l,[t]){t&1&&_e(e,l[0])},i:F,o:F,d(l){l&&d(e)}}}function fl(r,e,l){let t="";return setInterval(()=>{t.length<6?l(0,t+="."):l(0,t="")},500),[t]}class ul extends le{constructor(e){super();re(this,e,fl,cl,ne,{})}}function ut(r,e,l){const t=r.slice();return t[9]=e[l],t}function hl(r){let e,l,t,n;return{c(){e=b("button"),l=M("Share link"),this.h()},l(s){e=k(s,"BUTTON",{class:!0});var o=w(e);l=z(o,"Share link"),o.forEach(d),this.h()},h(){O(e,"class","bg-red")},m(s,o){D(s,e,o),p(e,l),t||(n=se(e,"click",r[5]),t=!0)},p:F,d(s){s&&d(e),t=!1,n()}}}function ht(r){let e,l,t,n;function s(){return r[6](r[9])}return{c(){e=b("button"),l=M("Kick"),this.h()},l(o){e=k(o,"BUTTON",{class:!0});var a=w(e);l=z(a,"Kick"),a.forEach(d),this.h()},h(){O(e,"class","svelte-1om871g")},m(o,a){D(o,e,a),p(e,l),t||(n=se(e,"click",s),t=!0)},p(o,a){r=o},d(o){o&&d(e),t=!1,n()}}}function dt(r){let e,l,t,n=r[9].nickname+"",s,o,a=(r[9].nickname===r[2]?"(You)":"")+"",i,h,f=(r[9].isHost?"(Host)":"")+"",m,c,_,u=r[3]&&r[9].nickname!==r[2]&&ht(r);return{c(){e=b("div"),l=b("span"),t=b("b"),s=M(n),o=U(),i=M(a),h=U(),m=M(f),c=U(),u&&u.c(),_=U(),this.h()},l(I){e=k(I,"DIV",{class:!0});var T=w(e);l=k(T,"SPAN",{});var P=w(l);t=k(P,"B",{});var E=w(t);s=z(E,n),E.forEach(d),o=N(P),i=z(P,a),h=N(P),m=z(P,f),P.forEach(d),c=N(T),u&&u.l(T),_=N(T),T.forEach(d),this.h()},h(){O(e,"class","player svelte-1om871g")},m(I,T){D(I,e,T),p(e,l),p(l,t),p(t,s),p(l,o),p(l,i),p(l,h),p(l,m),p(e,c),u&&u.m(e,null),p(e,_)},p(I,T){T&2&&n!==(n=I[9].nickname+"")&&_e(s,n),T&6&&a!==(a=(I[9].nickname===I[2]?"(You)":"")+"")&&_e(i,a),T&2&&f!==(f=(I[9].isHost?"(Host)":"")+"")&&_e(m,f),I[3]&&I[9].nickname!==I[2]?u?u.p(I,T):(u=ht(I),u.c(),u.m(e,_)):u&&(u.d(1),u=null)},d(I){I&&d(e),u&&u.d()}}}function dl(r){let e,l,t,n;return t=new ul({}),{c(){e=b("span"),l=M("Wating for host"),G(t.$$.fragment),this.h()},l(s){e=k(s,"SPAN",{class:!0});var o=w(e);l=z(o,"Wating for host"),Y(t.$$.fragment,o),o.forEach(d),this.h()},h(){O(e,"class","dark-block")},m(s,o){D(s,e,o),p(e,l),R(t,e,null),n=!0},p:F,i(s){n||(V(t.$$.fragment,s),n=!0)},o(s){S(t.$$.fragment,s),n=!1},d(s){s&&d(e),W(t)}}}function _l(r){let e,l,t,n;return{c(){e=b("button"),l=M("Start game"),this.h()},l(s){e=k(s,"BUTTON",{class:!0});var o=w(e);l=z(o,"Start game"),o.forEach(d),this.h()},h(){O(e,"class","bg-yellow")},m(s,o){D(s,e,o),p(e,l),t||(n=se(e,"click",r[7]),t=!0)},p:F,i:F,o:F,d(s){s&&d(e),t=!1,n()}}}function ml(r){let e,l,t,n,s=`${window.location.origin}/game?code=${r[0].toUpperCase()}`,o,a,i,h,f,m,c,_,u,I,T,P,E,$,C,q,j,J,y,H=navigator.share&&hl(r),g=r[1],B=[];for(let v=0;v<g.length;v+=1)B[v]=dt(ut(r,g,v));const he=[_l,dl],ee=[];function K(v,A){return v[3]?0:1}return P=K(r),E=ee[P]=he[P](r),{c(){e=b("h2"),l=M("Invite"),t=U(),n=b("div"),o=M(s),a=U(),i=b("button"),h=M("Copy game link"),f=U(),H&&H.c(),m=U(),c=b("h2"),_=M("Players"),u=U(),I=b("div");for(let v=0;v<B.length;v+=1)B[v].c();T=U(),E.c(),$=U(),C=b("button"),q=M("Leave room"),this.h()},l(v){e=k(v,"H2",{class:!0});var A=w(e);l=z(A,"Invite"),A.forEach(d),t=N(v),n=k(v,"DIV",{class:!0});var x=w(n);o=z(x,s),x.forEach(d),a=N(v),i=k(v,"BUTTON",{class:!0});var X=w(i);h=z(X,"Copy game link"),X.forEach(d),f=N(v),H&&H.l(v),m=N(v),c=k(v,"H2",{style:!0,class:!0});var L=w(c);_=z(L,"Players"),L.forEach(d),u=N(v),I=k(v,"DIV",{class:!0});var Z=w(I);for(let ie=0;ie<B.length;ie+=1)B[ie].l(Z);Z.forEach(d),T=N(v),E.l(v),$=N(v),C=k(v,"BUTTON",{class:!0,style:!0});var we=w(C);q=z(we,"Leave room"),we.forEach(d),this.h()},h(){O(e,"class","svelte-1om871g"),O(n,"class","code svelte-1om871g"),O(i,"class","bg-green"),O(c,"style","m"),O(c,"class","svelte-1om871g"),O(I,"class","players-list svelte-1om871g"),O(C,"class","bg-blue"),de(C,"margin-top","auto")},m(v,A){D(v,e,A),p(e,l),D(v,t,A),D(v,n,A),p(n,o),D(v,a,A),D(v,i,A),p(i,h),D(v,f,A),H&&H.m(v,A),D(v,m,A),D(v,c,A),p(c,_),D(v,u,A),D(v,I,A);for(let x=0;x<B.length;x+=1)B[x].m(I,null);D(v,T,A),ee[P].m(v,A),D(v,$,A),D(v,C,A),p(C,q),j=!0,J||(y=[se(i,"click",r[4]),se(C,"click",r[8])],J=!0)},p(v,[A]){if((!j||A&1)&&s!==(s=`${window.location.origin}/game?code=${v[0].toUpperCase()}`)&&_e(o,s),navigator.share&&H.p(v,A),A&14){g=v[1];let X;for(X=0;X<g.length;X+=1){const L=ut(v,g,X);B[X]?B[X].p(L,A):(B[X]=dt(L),B[X].c(),B[X].m(I,null))}for(;X<B.length;X+=1)B[X].d(1);B.length=g.length}let x=P;P=K(v),P===x?ee[P].p(v,A):(oe(),S(ee[x],1,1,()=>{ee[x]=null}),ae(),E=ee[P],E?E.p(v,A):(E=ee[P]=he[P](v),E.c()),V(E,1),E.m($.parentNode,$))},i(v){j||(V(E),j=!0)},o(v){S(E),j=!1},d(v){v&&d(e),v&&d(t),v&&d(n),v&&d(a),v&&d(i),v&&d(f),H&&H.d(v),v&&d(m),v&&d(c),v&&d(u),v&&d(I),$e(B,v),v&&d(T),ee[P].d(v),v&&d($),v&&d(C),J=!1,je(y)}}}function pl(r,e,l){let t,n,s,o;return Q(r,ke,c=>l(0,t=c)),Q(r,Ae,c=>l(1,n=c)),Q(r,ze,c=>l(2,s=c)),Q(r,Ie,c=>l(3,o=c)),[t,n,s,o,()=>{navigator.clipboard.writeText(`${window.location.origin}/game?code=${t.toUpperCase()}`)},()=>{navigator.share({title:"UNO Game Invite",url:`${window.location.origin}/game?code=${t.toUpperCase()}`})},c=>ue("kick",{target:c.nickname}),async()=>{await ue("startGame")},async()=>{await ue("leave")}]}class gl extends le{constructor(e){super();re(this,e,pl,ml,ne,{})}}let te;ge.subscribe(r=>{te=r});let ye;Ee.subscribe(r=>{ye=r});let fe;Te.subscribe(r=>{fe=r});function Ne(r,e=""){te.location===""&&r==="discard"&&Object.keys(fe).length===0||(te.location===""||r==="hand"&&te.location==="hand"&&te.cardIndex!==e||te.location==="hand"&&te.cardIndex===""?ge.set({location:r,cardIndex:e}):r===te.location?ge.set({location:"",cardIndex:""}):(r==="discard"&&te.location==="hand"&&Object.keys(fe).length>0?(fe=He({[te.cardIndex]:ye[te.cardIndex]},fe),delete ye[te.cardIndex],Te.set(fe),Ee.set(ye)):r==="hand"&&te.location==="discard"&&(ye[Object.keys(fe)[0]]=fe[Object.keys(fe)[0]],delete fe[Object.keys(fe)[0]],Ee.set(ye),Te.set(fe)),ue("move",{source:te.location,destination:r,cardIndex:te.cardIndex}),ge.set({location:"",cardIndex:""})))}function _t(r,e,l){const t=r.slice();return t[11]=e[l][0],t[12]=e[l][1],t[14]=l,t}function mt(r,e){let l,t,n,s,o=F,a;const i=[e[12],{cardIndex:e[11]},{focused:e[4].location==="hand"&&e[4].cardIndex===e[11]}];function h(){return e[8](e[11])}let f={};for(let m=0;m<i.length;m+=1)f=rt(f,i[m]);return t=new pe({props:f}),t.$on("click",h),{key:r,first:null,c(){l=b("div"),G(t.$$.fragment),n=U(),this.h()},l(m){l=k(m,"DIV",{style:!0});var c=w(l);Y(t.$$.fragment,c),n=N(c),c.forEach(d),this.h()},h(){de(l,"margin-top",(e[14]!==0?e[3]:0)+"px"),this.first=l},m(m,c){D(m,l,c),R(t,l,null),p(l,n),a=!0},p(m,c){e=m;const _=c&18?tt(i,[c&2&&lt(e[12]),c&2&&{cardIndex:e[11]},{focused:e[4].location==="hand"&&e[4].cardIndex===e[11]}]):{};t.$set(_),(!a||c&10)&&de(l,"margin-top",(e[14]!==0?e[3]:0)+"px")},r(){s=l.getBoundingClientRect()},f(){Bt(l),o()},a(){o(),o=Mt(l,s,zt,{duration:500})},i(m){a||(V(t.$$.fragment,m),a=!0)},o(m){S(t.$$.fragment,m),a=!1},d(m){m&&d(l),W(t)}}}function vl(r){let e,l,t,n,s=[],o=new Map,a,i,h,f=r[1];const m=c=>c[11];for(let c=0;c<f.length;c+=1){let _=_t(r,f,c),u=m(_);o.set(u,s[c]=mt(u,_))}return{c(){e=b("div"),l=b("div"),t=U(),n=b("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=k(c,"DIV",{class:!0});var _=w(e);l=k(_,"DIV",{class:!0}),w(l).forEach(d),t=N(_),n=k(_,"DIV",{class:!0,style:!0});var u=w(n);for(let I=0;I<s.length;I+=1)s[I].l(u);u.forEach(d),_.forEach(d),this.h()},h(){O(l,"class","hand-bg svelte-1n1k9b4"),O(n,"class","cards svelte-1n1k9b4"),O(n,"style",""),O(e,"class","hand svelte-1n1k9b4")},m(c,_){D(c,e,_),p(e,l),r[7](l),p(e,t),p(e,n);for(let u=0;u<s.length;u+=1)s[u].m(n,null);r[9](n),a=!0,i||(h=se(l,"click",r[6]),i=!0)},p(c,[_]){if(_&26){f=c[1],oe();for(let u=0;u<s.length;u+=1)s[u].r();s=Be(s,_,m,1,c,f,o,n,At,mt,null,_t);for(let u=0;u<s.length;u+=1)s[u].a();ae()}},i(c){if(!a){for(let _=0;_<f.length;_+=1)V(s[_]);a=!0}},o(c){for(let _=0;_<s.length;_+=1)S(s[_]);a=!1},d(c){c&&d(e),r[7](null);for(let _=0;_<s.length;_+=1)s[_].d();r[9](null),i=!1,h()}}}function $l(r=0){return r*parseFloat(getComputedStyle(document.documentElement).fontSize)}function bl(r,e,l){let t,n;Q(r,Ee,u=>l(5,t=u)),Q(r,ge,u=>l(4,n=u));let s,o,a=0;function i(){if(o&&s){const u=o.clientHeight-$l(5),I=s.firstElementChild.offsetHeight,T=Object.entries(t).length;T*(I+30)-30<u?l(3,a=30):l(3,a=(u-I*T)/(-1+T))}}Oe(()=>{window.addEventListener("resize",i)});let h=[];const f=()=>Ne("hand");function m(u){Me[u?"unshift":"push"](()=>{o=u,l(2,o)})}const c=u=>Ne("hand",u);function _(u){Me[u?"unshift":"push"](()=>{s=u,l(0,s)})}return r.$$.update=()=>{r.$$.dirty&34&&t&&Object.entries(t).length!==h.length&&l(1,h=Object.entries(t).sort((u,I)=>u[1].color===I[1].color?parseInt(I[1].symbol)-parseInt(u[1].symbol):u[1].color.charCodeAt(0)-I[1].color.charCodeAt(0))),r.$$.dirty&3&&s&&h&&h.length>0&&setTimeout(()=>{i()},100)},[s,h,o,a,n,t,f,m,c,_]}class kl extends le{constructor(e){super();re(this,e,bl,vl,ne,{})}}function pt(r,e,l){const t=r.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function gt(r,e,l){const t=r.slice();return t[9]=e[l],t[8]=l,t}function vt(r){let e,l,t,n;return l=new pe({props:{color:"black",symbol:"",floatLeft:!1,focused:r[1].location==="draw"&&r[8]===3}}),{c(){e=b("div"),G(l.$$.fragment),t=U(),this.h()},l(s){e=k(s,"DIV",{class:!0});var o=w(e);Y(l.$$.fragment,o),t=N(o),o.forEach(d),this.h()},h(){O(e,"class","svelte-hwypxs")},m(s,o){D(s,e,o),R(l,e,null),p(e,t),n=!0},p(s,o){const a={};o&2&&(a.focused=s[1].location==="draw"&&s[8]===3),l.$set(a)},i(s){n||(V(l.$$.fragment,s),n=!0)},o(s){S(l.$$.fragment,s),n=!1},d(s){s&&d(e),W(l)}}}function $t(r,e){let l,t,n,s,o,a;const i=[e[6],{floatLeft:!1},{focused:e[1].location==="discard"&&e[8]===e[0].length-1}];let h={};for(let f=0;f<i.length;f+=1)h=rt(h,i[f]);return t=new pe({props:h}),{key:r,first:null,c(){l=b("div"),G(t.$$.fragment),n=U(),this.h()},l(f){l=k(f,"DIV",{class:!0});var m=w(l);Y(t.$$.fragment,m),n=N(m),m.forEach(d),this.h()},h(){O(l,"class","svelte-hwypxs"),this.first=l},m(f,m){D(f,l,m),R(t,l,null),p(l,n),a=!0},p(f,m){e=f;const c=m&3?tt(i,[m&1&&lt(e[6]),i[1],{focused:e[1].location==="discard"&&e[8]===e[0].length-1}]):{};t.$set(c)},i(f){a||(V(t.$$.fragment,f),Se(()=>{o&&o.end(1),s=Ce(l,xt,{key:e[5]}),s.start()}),a=!0)},o(f){S(t.$$.fragment,f),s&&s.invalidate(),o=Le(l,el,{key:e[5]}),a=!1},d(f){f&&d(l),W(t),f&&o&&o.end()}}}function yl(r){let e,l,t,n,s,o,a,i=[],h=new Map,f,m,c,_=[0,0,0,0],u=[];for(let E=0;E<4;E+=1)u[E]=vt(gt(r,_,E));const I=E=>S(u[E],1,1,()=>{u[E]=null});o=new pe({props:{color:"",symbol:"",style:"silhouette"}});let T=r[0];const P=E=>E[5];for(let E=0;E<T.length;E+=1){let $=pt(r,T,E),C=P($);h.set(C,i[E]=$t(C,$))}return{c(){e=b("div"),l=b("div");for(let E=0;E<4;E+=1)u[E].c();t=U(),n=b("div"),s=b("div"),G(o.$$.fragment),a=U();for(let E=0;E<i.length;E+=1)i[E].c();this.h()},l(E){e=k(E,"DIV",{class:!0});var $=w(e);l=k($,"DIV",{class:!0});var C=w(l);for(let J=0;J<4;J+=1)u[J].l(C);C.forEach(d),t=N($),n=k($,"DIV",{class:!0});var q=w(n);s=k(q,"DIV",{class:!0});var j=w(s);Y(o.$$.fragment,j),j.forEach(d),a=N(q);for(let J=0;J<i.length;J+=1)i[J].l(q);q.forEach(d),$.forEach(d),this.h()},h(){O(l,"class","svelte-hwypxs"),O(s,"class","svelte-hwypxs"),O(n,"class","svelte-hwypxs"),O(e,"class","piles svelte-hwypxs")},m(E,$){D(E,e,$),p(e,l);for(let C=0;C<4;C+=1)u[C].m(l,null);p(e,t),p(e,n),p(n,s),R(o,s,null),p(n,a);for(let C=0;C<i.length;C+=1)i[C].m(n,null);f=!0,m||(c=[se(l,"click",r[3]),se(n,"click",r[4])],m=!0)},p(E,[$]){if($&2){_=[0,0,0,0];let C;for(C=0;C<4;C+=1){const q=gt(E,_,C);u[C]?(u[C].p(q,$),V(u[C],1)):(u[C]=vt(q),u[C].c(),V(u[C],1),u[C].m(l,null))}for(oe(),C=4;C<4;C+=1)I(C);ae()}$&3&&(T=E[0],oe(),i=Be(i,$,P,1,E,T,h,n,Gt,$t,null,pt),ae())},i(E){if(!f){for(let $=0;$<4;$+=1)V(u[$]);V(o.$$.fragment,E);for(let $=0;$<T.length;$+=1)V(i[$]);f=!0}},o(E){u=u.filter(Boolean);for(let $=0;$<4;$+=1)S(u[$]);S(o.$$.fragment,E);for(let $=0;$<i.length;$+=1)S(i[$]);f=!1},d(E){E&&d(e),$e(u,E),W(o);for(let $=0;$<i.length;$+=1)i[$].d();m=!1,je(c)}}}function wl(r,e,l){let t,n;Q(r,Te,i=>l(2,t=i)),Q(r,ge,i=>l(1,n=i));let s=[];const o=()=>Ne("draw"),a=()=>Ne("discard");return r.$$.update=()=>{if(r.$$.dirty&4&&t){const i=Object.entries(t).reverse();l(0,s=i.length>6?i.slice(i.length-5,i.length):i)}},[s,n,t,o,a]}class Il extends le{constructor(e){super();re(this,e,wl,yl,ne,{})}}function bt(r,e,l){const t=r.slice();return t[4]=e[l],t}function kt(r,e,l){const t=r.slice();return t[7]=e[l],t}function yt(r,e,l){const t=r.slice();return t[7]=e[l],t}function wt(r,e,l){const t=r.slice();return t[7]=e[l],t}function It(r){let e,l,t=r[4].nickname+"",n,s,o,a,i,h,f,m,c,_,u=r[2]&&Et(r),I=Array(Math.min(r[4].count,9)),T=[];for(let y=0;y<I.length;y+=1)T[y]=Tt(wt(r,I,y));const P=y=>S(T[y],1,1,()=>{T[y]=null});let E=Array(r[4].count>9?9:0),$=[];for(let y=0;y<E.length;y+=1)$[y]=Dt(yt(r,E,y));const C=y=>S($[y],1,1,()=>{$[y]=null});let q=Array(r[4].count>18?9:0),j=[];for(let y=0;y<q.length;y+=1)j[y]=Vt(kt(r,q,y));const J=y=>S(j[y],1,1,()=>{j[y]=null});return{c(){e=b("div"),l=b("div"),n=M(t),s=U(),u&&u.c(),o=U(),a=b("div");for(let y=0;y<T.length;y+=1)T[y].c();i=U(),h=b("div");for(let y=0;y<$.length;y+=1)$[y].c();f=U(),m=b("div");for(let y=0;y<j.length;y+=1)j[y].c();c=U(),this.h()},l(y){e=k(y,"DIV",{class:!0});var H=w(e);l=k(H,"DIV",{class:!0});var g=w(l);n=z(g,t),s=N(g),u&&u.l(g),g.forEach(d),o=N(H),a=k(H,"DIV",{class:!0});var B=w(a);for(let K=0;K<T.length;K+=1)T[K].l(B);i=N(B),h=k(B,"DIV",{class:!0});var he=w(h);for(let K=0;K<$.length;K+=1)$[K].l(he);he.forEach(d),f=N(B),m=k(B,"DIV",{class:!0});var ee=w(m);for(let K=0;K<j.length;K+=1)j[K].l(ee);ee.forEach(d),B.forEach(d),c=N(H),H.forEach(d),this.h()},h(){O(l,"class","nickname svelte-lypbk0"),O(h,"class","layered-count svelte-lypbk0"),O(m,"class","layered-count svelte-lypbk0"),O(a,"class","count svelte-lypbk0"),O(e,"class","hand")},m(y,H){D(y,e,H),p(e,l),p(l,n),p(l,s),u&&u.m(l,null),p(e,o),p(e,a);for(let g=0;g<T.length;g+=1)T[g].m(a,null);p(a,i),p(a,h);for(let g=0;g<$.length;g+=1)$[g].m(h,null);p(a,f),p(a,m);for(let g=0;g<j.length;g+=1)j[g].m(m,null);p(e,c),_=!0},p(y,H){if((!_||H&1)&&t!==(t=y[4].nickname+"")&&_e(n,t),y[2]?u?u.p(y,H):(u=Et(y),u.c(),u.m(l,null)):u&&(u.d(1),u=null),H&1){I=Array(Math.min(y[4].count,9));let g;for(g=0;g<I.length;g+=1){const B=wt(y,I,g);T[g]?(T[g].p(B,H),V(T[g],1)):(T[g]=Tt(),T[g].c(),V(T[g],1),T[g].m(a,i))}for(oe(),g=I.length;g<T.length;g+=1)P(g);ae()}if(H&1){E=Array(y[4].count>9?9:0);let g;for(g=0;g<E.length;g+=1){const B=yt(y,E,g);$[g]?($[g].p(B,H),V($[g],1)):($[g]=Dt(),$[g].c(),V($[g],1),$[g].m(h,null))}for(oe(),g=E.length;g<$.length;g+=1)C(g);ae()}if(H&1){q=Array(y[4].count>18?9:0);let g;for(g=0;g<q.length;g+=1){const B=kt(y,q,g);j[g]?(j[g].p(B,H),V(j[g],1)):(j[g]=Vt(),j[g].c(),V(j[g],1),j[g].m(m,null))}for(oe(),g=q.length;g<j.length;g+=1)J(g);ae()}},i(y){if(!_){for(let H=0;H<I.length;H+=1)V(T[H]);for(let H=0;H<E.length;H+=1)V($[H]);for(let H=0;H<q.length;H+=1)V(j[H]);_=!0}},o(y){T=T.filter(Boolean);for(let H=0;H<T.length;H+=1)S(T[H]);$=$.filter(Boolean);for(let H=0;H<$.length;H+=1)S($[H]);j=j.filter(Boolean);for(let H=0;H<j.length;H+=1)S(j[H]);_=!1},d(y){y&&d(e),u&&u.d(),$e(T,y),$e($,y),$e(j,y)}}}function Et(r){let e,l,t,n;function s(){return r[3](r[4])}return{c(){e=b("button"),l=M("Kick"),this.h()},l(o){e=k(o,"BUTTON",{class:!0});var a=w(e);l=z(a,"Kick"),a.forEach(d),this.h()},h(){O(e,"class","svelte-lypbk0")},m(o,a){D(o,e,a),p(e,l),t||(n=se(e,"click",s),t=!0)},p(o,a){r=o},d(o){o&&d(e),t=!1,n()}}}function Tt(r){let e,l;return e=new pe({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Dt(r){let e,l;return e=new pe({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Vt(r){let e,l;return e=new pe({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ht(r){let e,l,t=r[4].nickname!==r[1]&&It(r);return{c(){t&&t.c(),e=nt()},l(n){t&&t.l(n),e=nt()},m(n,s){t&&t.m(n,s),D(n,e,s),l=!0},p(n,s){n[4].nickname!==n[1]?t?(t.p(n,s),s&3&&V(t,1)):(t=It(n),t.c(),V(t,1),t.m(e.parentNode,e)):t&&(oe(),S(t,1,1,()=>{t=null}),ae())},i(n){l||(V(t),l=!0)},o(n){S(t),l=!1},d(n){t&&t.d(n),n&&d(e)}}}function El(r){let e,l,t,n=r[0],s=[];for(let a=0;a<n.length;a+=1)s[a]=Ht(bt(r,n,a));const o=a=>S(s[a],1,1,()=>{s[a]=null});return{c(){e=b("div"),l=b("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=k(a,"DIV",{class:!0});var i=w(e);l=k(i,"DIV",{class:!0});var h=w(l);for(let f=0;f<s.length;f+=1)s[f].l(h);h.forEach(d),i.forEach(d),this.h()},h(){O(l,"class","hands svelte-lypbk0"),O(e,"class","players svelte-lypbk0")},m(a,i){D(a,e,i),p(e,l);for(let h=0;h<s.length;h+=1)s[h].m(l,null);t=!0},p(a,[i]){if(i&7){n=a[0];let h;for(h=0;h<n.length;h+=1){const f=bt(a,n,h);s[h]?(s[h].p(f,i),V(s[h],1)):(s[h]=Ht(f),s[h].c(),V(s[h],1),s[h].m(l,null))}for(oe(),h=n.length;h<s.length;h+=1)o(h);ae()}},i(a){if(!t){for(let i=0;i<n.length;i+=1)V(s[i]);t=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)S(s[i]);t=!1},d(a){a&&d(e),$e(s,a)}}}function Tl(r,e,l){let t,n,s;return Q(r,Ae,a=>l(0,t=a)),Q(r,ze,a=>l(1,n=a)),Q(r,Ie,a=>l(2,s=a)),[t,n,s,a=>ue("kick",{target:a.nickname})]}class Dl extends le{constructor(e){super();re(this,e,Tl,El,ne,{})}}function Vl(r){let e,l,t,n,s;const o=r[4].default,a=Yt(o,r,r[3],null);return{c(){e=b("div"),l=b("div"),a&&a.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var h=w(e);l=k(h,"DIV",{class:!0});var f=w(l);a&&a.l(f),f.forEach(d),h.forEach(d),this.h()},h(){O(l,"class","icon svelte-11cx6hz"),O(e,"class","option svelte-11cx6hz"),de(e,"background-color",r[2].page===r[0]?r[1]:"transparent")},m(i,h){D(i,e,h),p(e,l),a&&a.m(l,null),t=!0,n||(s=se(e,"click",r[5]),n=!0)},p(i,[h]){a&&a.p&&(!t||h&8)&&Rt(a,o,i,i[3],t?qt(o,i[3],h,null):Wt(i[3]),null),(!t||h&7)&&de(e,"background-color",i[2].page===i[0]?i[1]:"transparent")},i(i){t||(V(a,i),t=!0)},o(i){S(a,i),t=!1},d(i){i&&d(e),a&&a.d(i),n=!1,s()}}}function Hl(r,e,l){let t;Q(r,De,h=>l(2,t=h));let{$$slots:n={},$$scope:s}=e,{page:o=""}=e,{color:a=""}=e;const i=()=>{t.page!==o?ve(De,t={page:o,color:a},t):ve(De,t={page:"",color:""},t)};return r.$$set=h=>{"page"in h&&l(0,o=h.page),"color"in h&&l(1,a=h.color),"$$scope"in h&&l(3,s=h.$$scope)},[o,a,t,s,n,i]}class Pe extends le{constructor(e){super();re(this,e,Hl,Vl,ne,{page:0,color:1})}}function Ol(r){let e,l;return e=new Jt({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Sl(r){let e,l;return e=new Kt({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Cl(r){let e,l;return e=new Ft({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ll(r){let e,l;return e=new Qt({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ul(r){let e,l,t,n,s,o,a,i,h,f,m;return l=new Pe({props:{page:"leave",color:"hsla(1, 60%, 60%, 1)",$$slots:{default:[Ol]},$$scope:{ctx:r}}}),n=new Pe({props:{page:"help",color:"hsla(220, 50%, 60%, 1)",$$slots:{default:[Sl]},$$scope:{ctx:r}}}),o=new Pe({props:{page:"history",color:"hsla(35, 90%, 60%, 1)",$$slots:{default:[Cl]},$$scope:{ctx:r}}}),i=new Pe({props:{page:"",color:"hsla(8, 30%, 30%, 1)",$$slots:{default:[Ll]},$$scope:{ctx:r}}}),{c(){e=b("div"),G(l.$$.fragment),t=U(),G(n.$$.fragment),s=U(),G(o.$$.fragment),a=U(),G(i.$$.fragment),h=U(),f=b("div"),this.h()},l(c){e=k(c,"DIV",{class:!0});var _=w(e);Y(l.$$.fragment,_),t=N(_),Y(n.$$.fragment,_),s=N(_),Y(o.$$.fragment,_),a=N(_),Y(i.$$.fragment,_),_.forEach(d),h=N(c),f=k(c,"DIV",{class:!0}),w(f).forEach(d),this.h()},h(){O(e,"class","menu svelte-woevsr"),O(f,"class","bottom-bg svelte-woevsr")},m(c,_){D(c,e,_),R(l,e,null),p(e,t),R(n,e,null),p(e,s),R(o,e,null),p(e,a),R(i,e,null),D(c,h,_),D(c,f,_),m=!0},p(c,[_]){const u={};_&1&&(u.$$scope={dirty:_,ctx:c}),l.$set(u);const I={};_&1&&(I.$$scope={dirty:_,ctx:c}),n.$set(I);const T={};_&1&&(T.$$scope={dirty:_,ctx:c}),o.$set(T);const P={};_&1&&(P.$$scope={dirty:_,ctx:c}),i.$set(P)},i(c){m||(V(l.$$.fragment,c),V(n.$$.fragment,c),V(o.$$.fragment,c),V(i.$$.fragment,c),m=!0)},o(c){S(l.$$.fragment,c),S(n.$$.fragment,c),S(o.$$.fragment,c),S(i.$$.fragment,c),m=!1},d(c){c&&d(e),W(l),W(n),W(o),W(i),c&&d(h),c&&d(f)}}}class Nl extends le{constructor(e){super();re(this,e,null,Ul,ne,{})}}function Pl(r){let e,l,t,n,s,o,a;return{c(){e=b("h3"),l=M("Are you sure you want to leave?"),t=U(),n=b("button"),s=M("Leave game"),this.h()},l(i){e=k(i,"H3",{});var h=w(e);l=z(h,"Are you sure you want to leave?"),h.forEach(d),t=N(i),n=k(i,"BUTTON",{class:!0});var f=w(n);s=z(f,"Leave game"),f.forEach(d),this.h()},h(){O(n,"class","bg-white")},m(i,h){D(i,e,h),p(e,l),D(i,t,h),D(i,n,h),p(n,s),o||(a=se(n,"click",r[0]),o=!0)},p:F,i:F,o:F,d(i){i&&d(e),i&&d(t),i&&d(n),o=!1,a()}}}function jl(r){return[()=>ue("leave")]}class Bl extends le{constructor(e){super();re(this,e,jl,Pl,ne,{})}}function Ml(r){let e,l,t,n,s,o,a,i,h,f,m,c,_,u,I,T,P,E,$,C,q,j,J,y,H,g,B,he,ee,K,v,A,x,X;return{c(){e=b("h1"),l=M("How to play"),t=U(),n=b("h4"),s=M("1. The black bottom bar of your screen is for navigating between pages, and the game board."),o=U(),a=b("ul"),i=b("li"),h=M("The far left button, a door, is for leaving this game."),f=U(),m=b("li"),c=M("The book button is for viewing this page, which is to help players."),_=U(),u=b("li"),I=M(`The hour glass button is for the history page, showing all the events that have happened in the
		game. It records when players join, leave, and when they play cards.`),T=U(),P=b("li"),E=M(`The far right button, of the two people, is for the game board, where you play UNO. You'll spend
		most of your time there.`),$=U(),C=b("h4"),q=M("2. The game board is split into 2 main parts:"),j=U(),J=b("ul"),y=b("li"),H=M(`The table, on the left, where you can see everyone else's hands, and the two stacks, the discard
		and draw pile.`),g=U(),B=b("li"),he=M(`Your hand is on the right, in a vertical strip. You can't reorder the cards in your hand, but
		they should automagically end up in a pleasing order.`),ee=U(),K=b("h4"),v=M("3. Move cards by clicking one to move, and then a destination."),A=U(),x=b("p"),X=M(`Clicking a card will select it, seen by it rising and shining. Then, click another card or area to
	move it to. If you accidentally selected the card or want to change your mind, click the card again
	to deselect it.`),this.h()},l(L){e=k(L,"H1",{});var Z=w(e);l=z(Z,"How to play"),Z.forEach(d),t=N(L),n=k(L,"H4",{class:!0});var we=w(n);s=z(we,"1. The black bottom bar of your screen is for navigating between pages, and the game board."),we.forEach(d),o=N(L),a=k(L,"UL",{});var ie=w(a);i=k(ie,"LI",{});var Ye=w(i);h=z(Ye,"The far left button, a door, is for leaving this game."),Ye.forEach(d),f=N(ie),m=k(ie,"LI",{});var Re=w(m);c=z(Re,"The book button is for viewing this page, which is to help players."),Re.forEach(d),_=N(ie),u=k(ie,"LI",{});var We=w(u);I=z(We,`The hour glass button is for the history page, showing all the events that have happened in the
		game. It records when players join, leave, and when they play cards.`),We.forEach(d),T=N(ie),P=k(ie,"LI",{});var qe=w(P);E=z(qe,`The far right button, of the two people, is for the game board, where you play UNO. You'll spend
		most of your time there.`),qe.forEach(d),ie.forEach(d),$=N(L),C=k(L,"H4",{class:!0});var Je=w(C);q=z(Je,"2. The game board is split into 2 main parts:"),Je.forEach(d),j=N(L),J=k(L,"UL",{});var Ve=w(J);y=k(Ve,"LI",{});var Ke=w(y);H=z(Ke,`The table, on the left, where you can see everyone else's hands, and the two stacks, the discard
		and draw pile.`),Ke.forEach(d),g=N(Ve),B=k(Ve,"LI",{});var Fe=w(B);he=z(Fe,`Your hand is on the right, in a vertical strip. You can't reorder the cards in your hand, but
		they should automagically end up in a pleasing order.`),Fe.forEach(d),Ve.forEach(d),ee=N(L),K=k(L,"H4",{class:!0});var Qe=w(K);v=z(Qe,"3. Move cards by clicking one to move, and then a destination."),Qe.forEach(d),A=N(L),x=k(L,"P",{});var Xe=w(x);X=z(Xe,`Clicking a card will select it, seen by it rising and shining. Then, click another card or area to
	move it to. If you accidentally selected the card or want to change your mind, click the card again
	to deselect it.`),Xe.forEach(d),this.h()},h(){O(n,"class","svelte-6xyuhn"),O(C,"class","svelte-6xyuhn"),O(K,"class","svelte-6xyuhn")},m(L,Z){D(L,e,Z),p(e,l),D(L,t,Z),D(L,n,Z),p(n,s),D(L,o,Z),D(L,a,Z),p(a,i),p(i,h),p(a,f),p(a,m),p(m,c),p(a,_),p(a,u),p(u,I),p(a,T),p(a,P),p(P,E),D(L,$,Z),D(L,C,Z),p(C,q),D(L,j,Z),D(L,J,Z),p(J,y),p(y,H),p(J,g),p(J,B),p(B,he),D(L,ee,Z),D(L,K,Z),p(K,v),D(L,A,Z),D(L,x,Z),p(x,X)},p:F,i:F,o:F,d(L){L&&d(e),L&&d(t),L&&d(n),L&&d(o),L&&d(a),L&&d($),L&&d(C),L&&d(j),L&&d(J),L&&d(ee),L&&d(K),L&&d(A),L&&d(x)}}}class zl extends le{constructor(e){super();re(this,e,null,Ml,ne,{})}}function Ot(r,e){const l=new Date(e),t=Math.round((r-+l)/1e3),n=60,s=n*60,o=s*24;let a;return t<2?a="just now":t<n?a=t+" seconds ago":t<2*n?a="a minute ago":t<s?a=Math.floor(t/n)+" minutes ago":Math.floor(t/s)==1?a="1 hour ago":t<o?a=Math.floor(t/s)+" hours ago":t<o*2&&(a="yesterday"),a}function St(r,e,l){const t=r.slice();return t[4]=e[l],t[6]=l,t}function Ct(r,e){let l,t,n=e[4].message+"",s,o,a,i=Ot(e[0],e[4].time)+"",h,f;return{key:r,first:null,c(){l=b("div"),t=b("div"),s=M(n),o=U(),a=b("div"),h=M(i),f=U(),this.h()},l(m){l=k(m,"DIV",{class:!0});var c=w(l);t=k(c,"DIV",{});var _=w(t);s=z(_,n),_.forEach(d),o=N(c),a=k(c,"DIV",{class:!0});var u=w(a);h=z(u,i),u.forEach(d),f=N(c),c.forEach(d),this.h()},h(){O(a,"class","time svelte-rkzce7"),O(l,"class","svelte-rkzce7"),this.first=l},m(m,c){D(m,l,c),p(l,t),p(t,s),p(l,o),p(l,a),p(a,h),p(l,f)},p(m,c){e=m,c&4&&n!==(n=e[4].message+"")&&_e(s,n),c&5&&i!==(i=Ot(e[0],e[4].time)+"")&&_e(h,i)},d(m){m&&d(l)}}}function Al(r){let e,l,t,n,s,o=[],a=new Map,i=r[2];const h=f=>f[4].time;for(let f=0;f<i.length;f+=1){let m=St(r,i,f),c=h(m);a.set(c,o[f]=Ct(c,m))}return{c(){e=b("div"),l=b("div"),t=b("h1"),n=M("History"),s=U();for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=k(f,"DIV",{class:!0});var m=w(e);l=k(m,"DIV",{class:!0});var c=w(l);t=k(c,"H1",{});var _=w(t);n=z(_,"History"),_.forEach(d),c.forEach(d),s=N(m);for(let u=0;u<o.length;u+=1)o[u].l(m);m.forEach(d),this.h()},h(){O(l,"class","svelte-rkzce7"),O(e,"class","table svelte-rkzce7")},m(f,m){D(f,e,m),p(e,l),p(l,t),p(t,n),p(e,s);for(let c=0;c<o.length;c+=1)o[c].m(e,null);r[3](e)},p(f,[m]){m&5&&(i=f[2],o=Be(o,m,h,1,f,i,a,e,Xt,Ct,null,St))},i:F,o:F,d(f){f&&d(e);for(let m=0;m<o.length;m+=1)o[m].d();r[3](null)}}}function Gl(r,e,l){let t;Q(r,ct,a=>l(2,t=a));let n=new Date,s;Oe(()=>{setInterval(()=>{l(0,n=new Date)},3e3+Math.random()*3e3),s.scrollIntoView({behavior:"smooth",block:"end"})});function o(a){Me[a?"unshift":"push"](()=>{s=a,l(1,s)})}return[n,s,t,o]}class Yl extends le{constructor(e){super();re(this,e,Gl,Al,ne,{})}}function Lt(r){let e,l,t,n;const s=[ql,Wl,Rl],o=[];function a(i,h){return i[1].page==="leave"?0:i[1].page==="help"?1:i[1].page==="history"?2:-1}return~(l=a(r))&&(t=o[l]=s[l](r)),{c(){e=b("div"),t&&t.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var h=w(e);t&&t.l(h),h.forEach(d),this.h()},h(){O(e,"class","page svelte-8vad2g"),de(e,"background-color",r[1].color.replace("60%, 1)","30%, 0.8)"))},m(i,h){D(i,e,h),~l&&o[l].m(e,null),n=!0},p(i,h){let f=l;l=a(i),l!==f&&(t&&(oe(),S(o[f],1,1,()=>{o[f]=null}),ae()),~l?(t=o[l],t||(t=o[l]=s[l](i),t.c()),V(t,1),t.m(e,null)):t=null),(!n||h&2)&&de(e,"background-color",i[1].color.replace("60%, 1)","30%, 0.8)"))},i(i){n||(V(t),n=!0)},o(i){S(t),n=!1},d(i){i&&d(e),~l&&o[l].d()}}}function Rl(r){let e,l;return e=new Yl({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Wl(r){let e,l;return e=new zl({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function ql(r){let e,l;return e=new Bl({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Jl(r){let e,l,t,n,s,o,a,i,h,f,m,c,_=r[1].page&&Lt(r);return s=new Dl({}),a=new Il({}),h=new kl({}),m=new Nl({}),{c(){e=b("div"),_&&_.c(),l=U(),t=b("div"),n=b("div"),G(s.$$.fragment),o=U(),G(a.$$.fragment),i=U(),G(h.$$.fragment),f=U(),G(m.$$.fragment),this.h()},l(u){e=k(u,"DIV",{class:!0,style:!0});var I=w(e);_&&_.l(I),l=N(I),t=k(I,"DIV",{class:!0});var T=w(t);n=k(T,"DIV",{class:!0});var P=w(n);Y(s.$$.fragment,P),o=N(P),Y(a.$$.fragment,P),P.forEach(d),i=N(T),Y(h.$$.fragment,T),T.forEach(d),f=N(I),Y(m.$$.fragment,I),I.forEach(d),this.h()},h(){O(n,"class","table svelte-8vad2g"),O(t,"class","hand-table svelte-8vad2g"),O(e,"class","game svelte-8vad2g"),de(e,"height","calc("+r[0]+"px + 0.5rem)")},m(u,I){D(u,e,I),_&&_.m(e,null),p(e,l),p(e,t),p(t,n),R(s,n,null),p(n,o),R(a,n,null),p(t,i),R(h,t,null),p(e,f),R(m,e,null),c=!0},p(u,[I]){u[1].page?_?(_.p(u,I),I&2&&V(_,1)):(_=Lt(u),_.c(),V(_,1),_.m(e,l)):_&&(oe(),S(_,1,1,()=>{_=null}),ae()),(!c||I&1)&&de(e,"height","calc("+u[0]+"px + 0.5rem)")},i(u){c||(V(_),V(s.$$.fragment,u),V(a.$$.fragment,u),V(h.$$.fragment,u),V(m.$$.fragment,u),c=!0)},o(u){S(_),S(s.$$.fragment,u),S(a.$$.fragment,u),S(h.$$.fragment,u),S(m.$$.fragment,u),c=!1},d(u){u&&d(e),_&&_.d(),W(s),W(a),W(h),W(m)}}}function Kl(r,e,l){let t;Q(r,De,s=>l(1,t=s));let n=window.innerHeight;return Oe(()=>{addEventListener("resize",()=>{l(0,n=window.innerHeight)})}),[n,t]}class Fl extends le{constructor(e){super();re(this,e,Kl,Jl,ne,{})}}function Ut(r){let e,l;return e=new tl({props:{style:r[1].style,message:r[1].message,closable:r[1].closable}}),e.$on("close",r[5]),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n&2&&(s.style=t[1].style),n&2&&(s.message=t[1].message),n&2&&(s.closable=t[1].closable),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ql(r){let e,l,t,n,s;return l=new Fl({}),{c(){e=b("div"),G(l.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var a=w(e);Y(l.$$.fragment,a),a.forEach(d),this.h()},h(){O(e,"class","svelte-nrbvt4")},m(o,a){D(o,e,a),R(l,e,null),s=!0},p(o,a){r=o},i(o){s||(V(l.$$.fragment,o),Se(()=>{n&&n.end(1),t=Ce(e,be,r[2]),t.start()}),s=!0)},o(o){S(l.$$.fragment,o),t&&t.invalidate(),n=Le(e,be,r[3]),s=!1},d(o){o&&d(e),W(l),o&&n&&n.end()}}}function Xl(r){let e,l,t,n,s;return l=new gl({}),{c(){e=b("div"),G(l.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var a=w(e);Y(l.$$.fragment,a),a.forEach(d),this.h()},h(){O(e,"class","svelte-nrbvt4")},m(o,a){D(o,e,a),R(l,e,null),s=!0},p(o,a){r=o},i(o){s||(V(l.$$.fragment,o),Se(()=>{n&&n.end(1),t=Ce(e,be,r[2]),t.start()}),s=!0)},o(o){S(l.$$.fragment,o),t&&t.invalidate(),n=Le(e,be,r[3]),s=!1},d(o){o&&d(e),W(l),o&&n&&n.end()}}}function Zl(r){let e,l,t,n,s;return l=new il({}),{c(){e=b("div"),G(l.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var a=w(e);Y(l.$$.fragment,a),a.forEach(d),this.h()},h(){O(e,"class","svelte-nrbvt4")},m(o,a){D(o,e,a),R(l,e,null),s=!0},p(o,a){r=o},i(o){s||(V(l.$$.fragment,o),Se(()=>{n&&n.end(1),t=Ce(e,be,r[2]),t.start()}),s=!0)},o(o){S(l.$$.fragment,o),t&&t.invalidate(),n=Le(e,be,r[3]),s=!1},d(o){o&&d(e),W(l),o&&n&&n.end()}}}function xl(r){let e,l,t,n,s,o=r[1].show&&Ut(r);const a=[Zl,Xl,Ql],i=[];function h(f,m){return f[0]==="profile"?0:f[0]==="lobby"?1:f[0]==="game"?2:-1}return~(t=h(r))&&(n=i[t]=a[t](r)),{c(){o&&o.c(),e=U(),l=b("div"),n&&n.c(),this.h()},l(f){o&&o.l(f),e=N(f),l=k(f,"DIV",{class:!0});var m=w(l);n&&n.l(m),m.forEach(d),this.h()},h(){O(l,"class","game svelte-nrbvt4")},m(f,m){o&&o.m(f,m),D(f,e,m),D(f,l,m),~t&&i[t].m(l,null),s=!0},p(f,[m]){f[1].show?o?(o.p(f,m),m&2&&V(o,1)):(o=Ut(f),o.c(),V(o,1),o.m(e.parentNode,e)):o&&(oe(),S(o,1,1,()=>{o=null}),ae());let c=t;t=h(f),t===c?~t&&i[t].p(f,m):(n&&(oe(),S(i[c],1,1,()=>{i[c]=null}),ae()),~t?(n=i[t],n?n.p(f,m):(n=i[t]=a[t](f),n.c()),V(n,1),n.m(l,null)):n=null)},i(f){s||(V(o),V(n),s=!0)},o(f){S(o),S(n),s=!1},d(f){o&&o.d(f),f&&d(e),f&&d(l),~t&&i[t].d()}}}function er(r,e,l){let t,n,s;Q(r,ke,h=>l(4,t=h)),Q(r,it,h=>l(0,n=h)),Q(r,me,h=>l(1,s=h)),Oe(()=>{ue("register",{recovery:localStorage.getItem("recovery")})});const o={x:400,duration:500},a={x:-400,duration:500},i=()=>{ve(me,s.show=!1,s)};return r.$$.update=()=>{r.$$.dirty&17&&n==="lobby"&&window.history.replaceState(null,null,`?code=${t.toUpperCase()}`)},[n,s,o,a,t,i]}class sr extends le{constructor(e){super();re(this,e,er,xl,ne,{})}}export{sr as default};
