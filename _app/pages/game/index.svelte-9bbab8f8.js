var Ut=Object.defineProperty;var Ze=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var xe=(n,e,l)=>e in n?Ut(n,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[e]=l,He=(n,e)=>{for(var l in e||(e={}))Nt.call(e,l)&&xe(n,l,e[l]);if(Ze)for(var l of Ze(e))Pt.call(e,l)&&xe(n,l,e[l]);return n};import{C as ce,S as le,i as re,s as ne,e as b,t as M,k as L,c as k,a as w,g as A,d,n as U,b as O,f as D,F as g,a5 as et,M as se,J as F,a6 as Le,O as Q,A as we,a7 as ve,h as _e,a1 as ue,r as oe,u as S,w as ae,x as V,a8 as $e,j as G,m as Y,o as q,v as R,p as tt,q as lt,K as Bt,L as Mt,P as At,N as Ue,U as zt,B as rt,a9 as Ne,a2 as Pe,a3 as Be,a4 as Me,aa as Gt,l as nt,D as Yt,G as qt,H as Rt,I as Wt,ab as Jt,R as Kt,ac as Ft,ad as Qt,ae as Xt,af as Oe}from"../../chunks/vendor-fc926bc2.js";import{g as st,p as Zt,C as ge,r as xt,s as el,O as tl}from"../../chunks/Card-9de5feda.js";import"../../chunks/singletons-12a22614.js";const Ie=ce(!1),be=ce("");let ot="";ot=localStorage.getItem("recovery")||"";const at=ce(ot);at.subscribe(n=>{localStorage.setItem("recovery",n)});const Ae=ce(""),Ee=ce({}),ze=ce([]),Te=ce({}),pe=ce({location:"",cardIndex:""}),it=ce("profile"),me=ce({show:!1,closable:!0,style:"",message:""}),De=ce({page:"",color:""}),ct=ce([]);var ll=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isHost:Ie,code:be,recovery:at,nickname:Ae,hand:Ee,players:ze,discard:Te,focused:pe,state:it,overlay:me,gamePage:De,log:ct});function rl(n){n.error?me.set({style:"warning",closable:!0,message:n.error,show:!0}):n.type==="update"?ll[n.store].set(n.data):n.type==="redirect"&&st(n.url+(n.message?"?message="+encodeURIComponent(n.message):""))}const nl="api-uno.venashial.games",sl=JSON.parse("true");let Ge="";be.subscribe(n=>{Ge=n});let Se;async function he(n="",e={},l=!1){try{(!Se||Se.readyState===3)&&(Se=await ft()),Se.send(JSON.stringify({route:n,body:He(He({},e),Ge!==""?{code:Ge}:{})}))}catch(t){console.error(t)}}function ft(n=0){return new Promise(function(e,l){console.log("Connecting...");const t=new WebSocket(`ws${sl?"s":""}://${nl}/ws`),r=setTimeout(()=>{l(new Error("WebSocket timeout")),console.log("Socket connection timed out."),clearTimeout(r),t.close()},3e3);t.onopen=()=>{clearTimeout(r),n>0?(console.log(`Reconnected after ${n} tries`),me.set({show:!1,closable:!0,style:"",message:""}),he("register",{recovery:localStorage.getItem("recovery")})):console.log("Connected!"),e(t)},t.onerror=o=>{console.log("Socket errored"),l(o)},t.onmessage=o=>{rl(JSON.parse(o.data))};let s=!1;window.onbeforeunload=()=>{s=!0},t.onclose=()=>{console.log("Socket closed!"),me.set({show:!0,closable:!1,style:"error",message:"Womp womp. The server just went offline! You'll be reconnected as soon as possible"+".".repeat(n)}),s||setTimeout(()=>ft(n+1),n<10?3e3:1e4)}})}function ol(n){let e,l,t,r,s,o,a=(n[1]?"Create":"Join")+"",i,u,f,m;return{c(){e=b("p"),l=M("What's your name?"),t=L(),r=b("input"),s=L(),o=b("button"),i=M(a),u=M(" room"),this.h()},l(c){e=k(c,"P",{});var _=w(e);l=A(_,"What's your name?"),_.forEach(d),t=U(c),r=k(c,"INPUT",{type:!0,placeholder:!0}),s=U(c),o=k(c,"BUTTON",{});var h=w(o);i=A(h,a),u=A(h," room"),h.forEach(d),this.h()},h(){O(r,"type","text"),O(r,"placeholder","...")},m(c,_){D(c,e,_),g(e,l),D(c,t,_),D(c,r,_),et(r,n[0]),D(c,s,_),D(c,o,_),g(o,i),g(o,u),f||(m=[se(r,"input",n[3]),se(o,"click",n[4])],f=!0)},p(c,[_]){_&1&&r.value!==c[0]&&et(r,c[0])},i:F,o:F,d(c){c&&d(e),c&&d(t),c&&d(r),c&&d(s),c&&d(o),f=!1,Le(m)}}}function al(n,e,l){let t,r,s,o;Q(n,be,_=>l(5,t=_)),Q(n,me,_=>l(6,r=_)),Q(n,Zt,_=>l(7,s=_)),Q(n,Ie,_=>l(8,o=_));let a;we(()=>{!s.query.get("code")&&typeof s.query.get("create")!="string"&&st("/")});const i=typeof s.query.get("create")=="string";i&&ve(Ie,o=!0,o);const u=s.query.get("code");u&&ve(be,t=u.toLowerCase(),t);async function f(){if(!a){ve(me,r={show:!0,closable:!0,style:"warning",message:"Sorry, but you can't be nameless. Enter a name."},r);return}i||await he("join",{code:t,nickname:a}),i&&await he("create",{nickname:a})}function m(){a=this.value,l(0,a)}return[a,i,f,m,()=>{f()}]}class il extends le{constructor(e){super();re(this,e,al,ol,ne,{})}}function cl(n){let e;return{c(){e=M(n[0])},l(l){e=A(l,n[0])},m(l,t){D(l,e,t)},p(l,[t]){t&1&&_e(e,l[0])},i:F,o:F,d(l){l&&d(e)}}}function fl(n,e,l){let t="";return setInterval(()=>{t.length<6?l(0,t+="."):l(0,t="")},500),[t]}class ul extends le{constructor(e){super();re(this,e,fl,cl,ne,{})}}function ut(n,e,l){const t=n.slice();return t[9]=e[l],t}function hl(n){let e,l,t,r;return{c(){e=b("button"),l=M("Share link"),this.h()},l(s){e=k(s,"BUTTON",{class:!0});var o=w(e);l=A(o,"Share link"),o.forEach(d),this.h()},h(){O(e,"class","bg-red")},m(s,o){D(s,e,o),g(e,l),t||(r=se(e,"click",n[5]),t=!0)},p:F,d(s){s&&d(e),t=!1,r()}}}function ht(n){let e,l,t,r;function s(){return n[6](n[9])}return{c(){e=b("button"),l=M("Kick"),this.h()},l(o){e=k(o,"BUTTON",{class:!0});var a=w(e);l=A(a,"Kick"),a.forEach(d),this.h()},h(){O(e,"class","svelte-1om871g")},m(o,a){D(o,e,a),g(e,l),t||(r=se(e,"click",s),t=!0)},p(o,a){n=o},d(o){o&&d(e),t=!1,r()}}}function dt(n){let e,l,t,r=n[9].nickname+"",s,o,a=(n[9].nickname===n[2]?"(You)":"")+"",i,u,f=(n[9].isHost?"(Host)":"")+"",m,c,_,h=n[3]&&n[9].nickname!==n[2]&&ht(n);return{c(){e=b("div"),l=b("span"),t=b("b"),s=M(r),o=L(),i=M(a),u=L(),m=M(f),c=L(),h&&h.c(),_=L(),this.h()},l(I){e=k(I,"DIV",{class:!0});var T=w(e);l=k(T,"SPAN",{});var N=w(l);t=k(N,"B",{});var E=w(t);s=A(E,r),E.forEach(d),o=U(N),i=A(N,a),u=U(N),m=A(N,f),N.forEach(d),c=U(T),h&&h.l(T),_=U(T),T.forEach(d),this.h()},h(){O(e,"class","player svelte-1om871g")},m(I,T){D(I,e,T),g(e,l),g(l,t),g(t,s),g(l,o),g(l,i),g(l,u),g(l,m),g(e,c),h&&h.m(e,null),g(e,_)},p(I,T){T&2&&r!==(r=I[9].nickname+"")&&_e(s,r),T&6&&a!==(a=(I[9].nickname===I[2]?"(You)":"")+"")&&_e(i,a),T&2&&f!==(f=(I[9].isHost?"(Host)":"")+"")&&_e(m,f),I[3]&&I[9].nickname!==I[2]?h?h.p(I,T):(h=ht(I),h.c(),h.m(e,_)):h&&(h.d(1),h=null)},d(I){I&&d(e),h&&h.d()}}}function dl(n){let e,l,t,r;return t=new ul({}),{c(){e=b("span"),l=M("Wating for host"),G(t.$$.fragment),this.h()},l(s){e=k(s,"SPAN",{class:!0});var o=w(e);l=A(o,"Wating for host"),Y(t.$$.fragment,o),o.forEach(d),this.h()},h(){O(e,"class","dark-block")},m(s,o){D(s,e,o),g(e,l),q(t,e,null),r=!0},p:F,i(s){r||(V(t.$$.fragment,s),r=!0)},o(s){S(t.$$.fragment,s),r=!1},d(s){s&&d(e),R(t)}}}function _l(n){let e,l,t,r;return{c(){e=b("button"),l=M("Start game"),this.h()},l(s){e=k(s,"BUTTON",{class:!0});var o=w(e);l=A(o,"Start game"),o.forEach(d),this.h()},h(){O(e,"class","bg-yellow")},m(s,o){D(s,e,o),g(e,l),t||(r=se(e,"click",n[7]),t=!0)},p:F,i:F,o:F,d(s){s&&d(e),t=!1,r()}}}function ml(n){let e,l,t,r,s=`${window.location.origin}/game?code=${n[0].toUpperCase()}`,o,a,i,u,f,m,c,_,h,I,T,N,E,$,j,W,P,J,y,H=navigator.share&&hl(n),p=n[1],B=[];for(let v=0;v<p.length;v+=1)B[v]=dt(ut(n,p,v));const de=[_l,dl],ee=[];function K(v,z){return v[3]?0:1}return N=K(n),E=ee[N]=de[N](n),{c(){e=b("h2"),l=M("Invite"),t=L(),r=b("div"),o=M(s),a=L(),i=b("button"),u=M("Copy game link"),f=L(),H&&H.c(),m=L(),c=b("h2"),_=M("Players"),h=L(),I=b("div");for(let v=0;v<B.length;v+=1)B[v].c();T=L(),E.c(),$=L(),j=b("button"),W=M("Leave room"),this.h()},l(v){e=k(v,"H2",{class:!0});var z=w(e);l=A(z,"Invite"),z.forEach(d),t=U(v),r=k(v,"DIV",{class:!0});var x=w(r);o=A(x,s),x.forEach(d),a=U(v),i=k(v,"BUTTON",{class:!0});var X=w(i);u=A(X,"Copy game link"),X.forEach(d),f=U(v),H&&H.l(v),m=U(v),c=k(v,"H2",{style:!0,class:!0});var C=w(c);_=A(C,"Players"),C.forEach(d),h=U(v),I=k(v,"DIV",{class:!0});var Z=w(I);for(let ie=0;ie<B.length;ie+=1)B[ie].l(Z);Z.forEach(d),T=U(v),E.l(v),$=U(v),j=k(v,"BUTTON",{class:!0,style:!0});var ye=w(j);W=A(ye,"Leave room"),ye.forEach(d),this.h()},h(){O(e,"class","svelte-1om871g"),O(r,"class","code svelte-1om871g"),O(i,"class","bg-green"),O(c,"style","m"),O(c,"class","svelte-1om871g"),O(I,"class","players-list svelte-1om871g"),O(j,"class","bg-blue"),ue(j,"margin-top","auto")},m(v,z){D(v,e,z),g(e,l),D(v,t,z),D(v,r,z),g(r,o),D(v,a,z),D(v,i,z),g(i,u),D(v,f,z),H&&H.m(v,z),D(v,m,z),D(v,c,z),g(c,_),D(v,h,z),D(v,I,z);for(let x=0;x<B.length;x+=1)B[x].m(I,null);D(v,T,z),ee[N].m(v,z),D(v,$,z),D(v,j,z),g(j,W),P=!0,J||(y=[se(i,"click",n[4]),se(j,"click",n[8])],J=!0)},p(v,[z]){if((!P||z&1)&&s!==(s=`${window.location.origin}/game?code=${v[0].toUpperCase()}`)&&_e(o,s),navigator.share&&H.p(v,z),z&14){p=v[1];let X;for(X=0;X<p.length;X+=1){const C=ut(v,p,X);B[X]?B[X].p(C,z):(B[X]=dt(C),B[X].c(),B[X].m(I,null))}for(;X<B.length;X+=1)B[X].d(1);B.length=p.length}let x=N;N=K(v),N===x?ee[N].p(v,z):(oe(),S(ee[x],1,1,()=>{ee[x]=null}),ae(),E=ee[N],E?E.p(v,z):(E=ee[N]=de[N](v),E.c()),V(E,1),E.m($.parentNode,$))},i(v){P||(V(E),P=!0)},o(v){S(E),P=!1},d(v){v&&d(e),v&&d(t),v&&d(r),v&&d(a),v&&d(i),v&&d(f),H&&H.d(v),v&&d(m),v&&d(c),v&&d(h),v&&d(I),$e(B,v),v&&d(T),ee[N].d(v),v&&d($),v&&d(j),J=!1,Le(y)}}}function gl(n,e,l){let t,r,s,o;return Q(n,be,c=>l(0,t=c)),Q(n,ze,c=>l(1,r=c)),Q(n,Ae,c=>l(2,s=c)),Q(n,Ie,c=>l(3,o=c)),[t,r,s,o,()=>{navigator.clipboard.writeText(`${window.location.origin}/game?code=${t.toUpperCase()}`)},()=>{navigator.share({title:"UNO Game Invite",url:`${window.location.origin}/game?code=${t.toUpperCase()}`})},c=>he("kick",{target:c.nickname}),async()=>{await he("startGame")},async()=>{await he("leave")}]}class pl extends le{constructor(e){super();re(this,e,gl,ml,ne,{})}}let te;pe.subscribe(n=>{te=n});let ke;Ee.subscribe(n=>{ke=n});let fe;Te.subscribe(n=>{fe=n});function je(n,e=""){te.location===""&&n==="discard"&&Object.keys(fe).length===0||(te.location===""||n==="hand"&&te.location==="hand"&&te.cardIndex!==e||te.location==="hand"&&te.cardIndex===""?pe.set({location:n,cardIndex:e}):n===te.location?pe.set({location:"",cardIndex:""}):(n==="discard"&&te.location==="hand"&&Object.keys(fe).length>0?(fe=He({[te.cardIndex]:ke[te.cardIndex]},fe),delete ke[te.cardIndex],Te.set(fe),Ee.set(ke)):n==="hand"&&te.location==="discard"&&(ke[Object.keys(fe)[0]]=fe[Object.keys(fe)[0]],delete fe[Object.keys(fe)[0]],Ee.set(ke),Te.set(fe)),he("move",{source:te.location,destination:n,cardIndex:te.cardIndex}),pe.set({location:"",cardIndex:""})))}function _t(n,e,l){const t=n.slice();return t[11]=e[l][0],t[12]=e[l][1],t[14]=l,t}function mt(n,e){let l,t,r,s,o=F,a;const i=[e[12],{cardIndex:e[11]},{focused:e[4].location==="hand"&&e[4].cardIndex===e[11]}];function u(){return e[8](e[11])}let f={};for(let m=0;m<i.length;m+=1)f=rt(f,i[m]);return t=new ge({props:f}),t.$on("click",u),{key:n,first:null,c(){l=b("div"),G(t.$$.fragment),r=L(),this.h()},l(m){l=k(m,"DIV",{style:!0});var c=w(l);Y(t.$$.fragment,c),r=U(c),c.forEach(d),this.h()},h(){ue(l,"margin-top",(e[14]!==0?e[3]:0)+"px"),this.first=l},m(m,c){D(m,l,c),q(t,l,null),g(l,r),a=!0},p(m,c){e=m;const _=c&18?tt(i,[c&2&&lt(e[12]),c&2&&{cardIndex:e[11]},{focused:e[4].location==="hand"&&e[4].cardIndex===e[11]}]):{};t.$set(_),(!a||c&10)&&ue(l,"margin-top",(e[14]!==0?e[3]:0)+"px")},r(){s=l.getBoundingClientRect()},f(){Bt(l),o()},a(){o(),o=Mt(l,s,At,{duration:500})},i(m){a||(V(t.$$.fragment,m),a=!0)},o(m){S(t.$$.fragment,m),a=!1},d(m){m&&d(l),R(t)}}}function vl(n){let e,l,t,r,s=[],o=new Map,a,i,u,f=n[1];const m=c=>c[11];for(let c=0;c<f.length;c+=1){let _=_t(n,f,c),h=m(_);o.set(h,s[c]=mt(h,_))}return{c(){e=b("div"),l=b("div"),t=L(),r=b("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=k(c,"DIV",{class:!0});var _=w(e);l=k(_,"DIV",{class:!0}),w(l).forEach(d),t=U(_),r=k(_,"DIV",{class:!0,style:!0});var h=w(r);for(let I=0;I<s.length;I+=1)s[I].l(h);h.forEach(d),_.forEach(d),this.h()},h(){O(l,"class","hand-bg svelte-1n1k9b4"),O(r,"class","cards svelte-1n1k9b4"),O(r,"style",""),O(e,"class","hand svelte-1n1k9b4")},m(c,_){D(c,e,_),g(e,l),n[7](l),g(e,t),g(e,r);for(let h=0;h<s.length;h+=1)s[h].m(r,null);n[9](r),a=!0,i||(u=se(l,"click",n[6]),i=!0)},p(c,[_]){if(_&26){f=c[1],oe();for(let h=0;h<s.length;h+=1)s[h].r();s=Ue(s,_,m,1,c,f,o,r,zt,mt,null,_t);for(let h=0;h<s.length;h+=1)s[h].a();ae()}},i(c){if(!a){for(let _=0;_<f.length;_+=1)V(s[_]);a=!0}},o(c){for(let _=0;_<s.length;_+=1)S(s[_]);a=!1},d(c){c&&d(e),n[7](null);for(let _=0;_<s.length;_+=1)s[_].d();n[9](null),i=!1,u()}}}function $l(n=0){return n*parseFloat(getComputedStyle(document.documentElement).fontSize)}function bl(n,e,l){let t,r;Q(n,Ee,h=>l(5,t=h)),Q(n,pe,h=>l(4,r=h));let s,o,a=0;function i(){if(o&&s){const h=o.clientHeight-$l(5),I=s.firstElementChild.offsetHeight,T=Object.entries(t).length;T*(I+30)-30<h?l(3,a=30):l(3,a=(h-I*T)/(-1+T))}}we(()=>{window.addEventListener("resize",i)});let u=[];const f=()=>je("hand");function m(h){Ne[h?"unshift":"push"](()=>{o=h,l(2,o)})}const c=h=>je("hand",h);function _(h){Ne[h?"unshift":"push"](()=>{s=h,l(0,s)})}return n.$$.update=()=>{n.$$.dirty&34&&t&&Object.entries(t).length!==u.length&&l(1,u=Object.entries(t).sort((h,I)=>h[1].color===I[1].color?parseInt(I[1].symbol)-parseInt(h[1].symbol):h[1].color.charCodeAt(0)-I[1].color.charCodeAt(0))),n.$$.dirty&3&&s&&u&&u.length>0&&setTimeout(()=>{i()},100)},[s,u,o,a,r,t,f,m,c,_]}class kl extends le{constructor(e){super();re(this,e,bl,vl,ne,{})}}function gt(n,e,l){const t=n.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function pt(n,e,l){const t=n.slice();return t[9]=e[l],t[8]=l,t}function vt(n){let e,l,t,r;return l=new ge({props:{color:"black",symbol:"",floatLeft:!1,focused:n[1].location==="draw"&&n[8]===3}}),{c(){e=b("div"),G(l.$$.fragment),t=L(),this.h()},l(s){e=k(s,"DIV",{class:!0});var o=w(e);Y(l.$$.fragment,o),t=U(o),o.forEach(d),this.h()},h(){O(e,"class","svelte-hwypxs")},m(s,o){D(s,e,o),q(l,e,null),g(e,t),r=!0},p(s,o){const a={};o&2&&(a.focused=s[1].location==="draw"&&s[8]===3),l.$set(a)},i(s){r||(V(l.$$.fragment,s),r=!0)},o(s){S(l.$$.fragment,s),r=!1},d(s){s&&d(e),R(l)}}}function $t(n,e){let l,t,r,s,o,a;const i=[e[6],{floatLeft:!1},{focused:e[1].location==="discard"&&e[8]===e[0].length-1}];let u={};for(let f=0;f<i.length;f+=1)u=rt(u,i[f]);return t=new ge({props:u}),{key:n,first:null,c(){l=b("div"),G(t.$$.fragment),r=L(),this.h()},l(f){l=k(f,"DIV",{class:!0});var m=w(l);Y(t.$$.fragment,m),r=U(m),m.forEach(d),this.h()},h(){O(l,"class","svelte-hwypxs"),this.first=l},m(f,m){D(f,l,m),q(t,l,null),g(l,r),a=!0},p(f,m){e=f;const c=m&3?tt(i,[m&1&&lt(e[6]),i[1],{focused:e[1].location==="discard"&&e[8]===e[0].length-1}]):{};t.$set(c)},i(f){a||(V(t.$$.fragment,f),Pe(()=>{o&&o.end(1),s=Be(l,xt,{key:e[5]}),s.start()}),a=!0)},o(f){S(t.$$.fragment,f),s&&s.invalidate(),o=Me(l,el,{key:e[5]}),a=!1},d(f){f&&d(l),R(t),f&&o&&o.end()}}}function yl(n){let e,l,t,r,s,o,a,i=[],u=new Map,f,m,c,_=[0,0,0,0],h=[];for(let E=0;E<4;E+=1)h[E]=vt(pt(n,_,E));const I=E=>S(h[E],1,1,()=>{h[E]=null});o=new ge({props:{color:"",symbol:"",style:"silhouette"}});let T=n[0];const N=E=>E[5];for(let E=0;E<T.length;E+=1){let $=gt(n,T,E),j=N($);u.set(j,i[E]=$t(j,$))}return{c(){e=b("div"),l=b("div");for(let E=0;E<4;E+=1)h[E].c();t=L(),r=b("div"),s=b("div"),G(o.$$.fragment),a=L();for(let E=0;E<i.length;E+=1)i[E].c();this.h()},l(E){e=k(E,"DIV",{class:!0});var $=w(e);l=k($,"DIV",{class:!0});var j=w(l);for(let J=0;J<4;J+=1)h[J].l(j);j.forEach(d),t=U($),r=k($,"DIV",{class:!0});var W=w(r);s=k(W,"DIV",{class:!0});var P=w(s);Y(o.$$.fragment,P),P.forEach(d),a=U(W);for(let J=0;J<i.length;J+=1)i[J].l(W);W.forEach(d),$.forEach(d),this.h()},h(){O(l,"class","svelte-hwypxs"),O(s,"class","svelte-hwypxs"),O(r,"class","svelte-hwypxs"),O(e,"class","piles svelte-hwypxs")},m(E,$){D(E,e,$),g(e,l);for(let j=0;j<4;j+=1)h[j].m(l,null);g(e,t),g(e,r),g(r,s),q(o,s,null),g(r,a);for(let j=0;j<i.length;j+=1)i[j].m(r,null);f=!0,m||(c=[se(l,"click",n[3]),se(r,"click",n[4])],m=!0)},p(E,[$]){if($&2){_=[0,0,0,0];let j;for(j=0;j<4;j+=1){const W=pt(E,_,j);h[j]?(h[j].p(W,$),V(h[j],1)):(h[j]=vt(W),h[j].c(),V(h[j],1),h[j].m(l,null))}for(oe(),j=4;j<4;j+=1)I(j);ae()}$&3&&(T=E[0],oe(),i=Ue(i,$,N,1,E,T,u,r,Gt,$t,null,gt),ae())},i(E){if(!f){for(let $=0;$<4;$+=1)V(h[$]);V(o.$$.fragment,E);for(let $=0;$<T.length;$+=1)V(i[$]);f=!0}},o(E){h=h.filter(Boolean);for(let $=0;$<4;$+=1)S(h[$]);S(o.$$.fragment,E);for(let $=0;$<i.length;$+=1)S(i[$]);f=!1},d(E){E&&d(e),$e(h,E),R(o);for(let $=0;$<i.length;$+=1)i[$].d();m=!1,Le(c)}}}function wl(n,e,l){let t,r;Q(n,Te,i=>l(2,t=i)),Q(n,pe,i=>l(1,r=i));let s=[];const o=()=>je("draw"),a=()=>je("discard");return n.$$.update=()=>{if(n.$$.dirty&4&&t){const i=Object.entries(t).reverse();l(0,s=i.length>6?i.slice(i.length-5,i.length):i)}},[s,r,t,o,a]}class Il extends le{constructor(e){super();re(this,e,wl,yl,ne,{})}}function bt(n,e,l){const t=n.slice();return t[4]=e[l],t}function kt(n,e,l){const t=n.slice();return t[7]=e[l],t}function yt(n,e,l){const t=n.slice();return t[7]=e[l],t}function wt(n,e,l){const t=n.slice();return t[7]=e[l],t}function It(n){let e,l,t=n[4].nickname+"",r,s,o,a,i,u,f,m,c,_,h=n[2]&&Et(n),I=Array(Math.min(n[4].count,9)),T=[];for(let y=0;y<I.length;y+=1)T[y]=Tt(wt(n,I,y));const N=y=>S(T[y],1,1,()=>{T[y]=null});let E=Array(n[4].count>9?9:0),$=[];for(let y=0;y<E.length;y+=1)$[y]=Dt(yt(n,E,y));const j=y=>S($[y],1,1,()=>{$[y]=null});let W=Array(n[4].count>18?9:0),P=[];for(let y=0;y<W.length;y+=1)P[y]=Vt(kt(n,W,y));const J=y=>S(P[y],1,1,()=>{P[y]=null});return{c(){e=b("div"),l=b("div"),r=M(t),s=L(),h&&h.c(),o=L(),a=b("div");for(let y=0;y<T.length;y+=1)T[y].c();i=L(),u=b("div");for(let y=0;y<$.length;y+=1)$[y].c();f=L(),m=b("div");for(let y=0;y<P.length;y+=1)P[y].c();c=L(),this.h()},l(y){e=k(y,"DIV",{class:!0});var H=w(e);l=k(H,"DIV",{class:!0});var p=w(l);r=A(p,t),s=U(p),h&&h.l(p),p.forEach(d),o=U(H),a=k(H,"DIV",{class:!0});var B=w(a);for(let K=0;K<T.length;K+=1)T[K].l(B);i=U(B),u=k(B,"DIV",{class:!0});var de=w(u);for(let K=0;K<$.length;K+=1)$[K].l(de);de.forEach(d),f=U(B),m=k(B,"DIV",{class:!0});var ee=w(m);for(let K=0;K<P.length;K+=1)P[K].l(ee);ee.forEach(d),B.forEach(d),c=U(H),H.forEach(d),this.h()},h(){O(l,"class","nickname svelte-raisdj"),O(u,"class","layered-count svelte-raisdj"),O(m,"class","layered-count svelte-raisdj"),O(a,"class","count svelte-raisdj"),O(e,"class","hand")},m(y,H){D(y,e,H),g(e,l),g(l,r),g(l,s),h&&h.m(l,null),g(e,o),g(e,a);for(let p=0;p<T.length;p+=1)T[p].m(a,null);g(a,i),g(a,u);for(let p=0;p<$.length;p+=1)$[p].m(u,null);g(a,f),g(a,m);for(let p=0;p<P.length;p+=1)P[p].m(m,null);g(e,c),_=!0},p(y,H){if((!_||H&1)&&t!==(t=y[4].nickname+"")&&_e(r,t),y[2]?h?h.p(y,H):(h=Et(y),h.c(),h.m(l,null)):h&&(h.d(1),h=null),H&1){I=Array(Math.min(y[4].count,9));let p;for(p=0;p<I.length;p+=1){const B=wt(y,I,p);T[p]?(T[p].p(B,H),V(T[p],1)):(T[p]=Tt(),T[p].c(),V(T[p],1),T[p].m(a,i))}for(oe(),p=I.length;p<T.length;p+=1)N(p);ae()}if(H&1){E=Array(y[4].count>9?9:0);let p;for(p=0;p<E.length;p+=1){const B=yt(y,E,p);$[p]?($[p].p(B,H),V($[p],1)):($[p]=Dt(),$[p].c(),V($[p],1),$[p].m(u,null))}for(oe(),p=E.length;p<$.length;p+=1)j(p);ae()}if(H&1){W=Array(y[4].count>18?9:0);let p;for(p=0;p<W.length;p+=1){const B=kt(y,W,p);P[p]?(P[p].p(B,H),V(P[p],1)):(P[p]=Vt(),P[p].c(),V(P[p],1),P[p].m(m,null))}for(oe(),p=W.length;p<P.length;p+=1)J(p);ae()}},i(y){if(!_){for(let H=0;H<I.length;H+=1)V(T[H]);for(let H=0;H<E.length;H+=1)V($[H]);for(let H=0;H<W.length;H+=1)V(P[H]);_=!0}},o(y){T=T.filter(Boolean);for(let H=0;H<T.length;H+=1)S(T[H]);$=$.filter(Boolean);for(let H=0;H<$.length;H+=1)S($[H]);P=P.filter(Boolean);for(let H=0;H<P.length;H+=1)S(P[H]);_=!1},d(y){y&&d(e),h&&h.d(),$e(T,y),$e($,y),$e(P,y)}}}function Et(n){let e,l,t,r;function s(){return n[3](n[4])}return{c(){e=b("button"),l=M("Kick"),this.h()},l(o){e=k(o,"BUTTON",{class:!0});var a=w(e);l=A(a,"Kick"),a.forEach(d),this.h()},h(){O(e,"class","svelte-raisdj")},m(o,a){D(o,e,a),g(e,l),t||(r=se(e,"click",s),t=!0)},p(o,a){n=o},d(o){o&&d(e),t=!1,r()}}}function Tt(n){let e,l;return e=new ge({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Dt(n){let e,l;return e=new ge({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Vt(n){let e,l;return e=new ge({props:{color:"black",symbol:""}}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ht(n){let e,l,t=n[4].nickname!==n[1]&&It(n);return{c(){t&&t.c(),e=nt()},l(r){t&&t.l(r),e=nt()},m(r,s){t&&t.m(r,s),D(r,e,s),l=!0},p(r,s){r[4].nickname!==r[1]?t?(t.p(r,s),s&3&&V(t,1)):(t=It(r),t.c(),V(t,1),t.m(e.parentNode,e)):t&&(oe(),S(t,1,1,()=>{t=null}),ae())},i(r){l||(V(t),l=!0)},o(r){S(t),l=!1},d(r){t&&t.d(r),r&&d(e)}}}function El(n){let e,l,t,r=n[0],s=[];for(let a=0;a<r.length;a+=1)s[a]=Ht(bt(n,r,a));const o=a=>S(s[a],1,1,()=>{s[a]=null});return{c(){e=b("div"),l=b("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=k(a,"DIV",{class:!0});var i=w(e);l=k(i,"DIV",{class:!0});var u=w(l);for(let f=0;f<s.length;f+=1)s[f].l(u);u.forEach(d),i.forEach(d),this.h()},h(){O(l,"class","hands svelte-raisdj"),O(e,"class","players svelte-raisdj")},m(a,i){D(a,e,i),g(e,l);for(let u=0;u<s.length;u+=1)s[u].m(l,null);t=!0},p(a,[i]){if(i&7){r=a[0];let u;for(u=0;u<r.length;u+=1){const f=bt(a,r,u);s[u]?(s[u].p(f,i),V(s[u],1)):(s[u]=Ht(f),s[u].c(),V(s[u],1),s[u].m(l,null))}for(oe(),u=r.length;u<s.length;u+=1)o(u);ae()}},i(a){if(!t){for(let i=0;i<r.length;i+=1)V(s[i]);t=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)S(s[i]);t=!1},d(a){a&&d(e),$e(s,a)}}}function Tl(n,e,l){let t,r,s;Q(n,ze,a=>l(0,t=a)),Q(n,Ae,a=>l(1,r=a)),Q(n,Ie,a=>l(2,s=a));const o=a=>he("kick",{target:a.nickname});return n.$$.update=()=>{n.$$.dirty&1&&t&&console.log(t)},[t,r,s,o]}class Dl extends le{constructor(e){super();re(this,e,Tl,El,ne,{})}}function Vl(n){let e,l,t,r,s;const o=n[4].default,a=Yt(o,n,n[3],null);return{c(){e=b("div"),l=b("div"),a&&a.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var u=w(e);l=k(u,"DIV",{class:!0});var f=w(l);a&&a.l(f),f.forEach(d),u.forEach(d),this.h()},h(){O(l,"class","icon svelte-11cx6hz"),O(e,"class","option svelte-11cx6hz"),ue(e,"background-color",n[2].page===n[0]?n[1]:"transparent")},m(i,u){D(i,e,u),g(e,l),a&&a.m(l,null),t=!0,r||(s=se(e,"click",n[5]),r=!0)},p(i,[u]){a&&a.p&&(!t||u&8)&&qt(a,o,i,i[3],t?Wt(o,i[3],u,null):Rt(i[3]),null),(!t||u&7)&&ue(e,"background-color",i[2].page===i[0]?i[1]:"transparent")},i(i){t||(V(a,i),t=!0)},o(i){S(a,i),t=!1},d(i){i&&d(e),a&&a.d(i),r=!1,s()}}}function Hl(n,e,l){let t;Q(n,De,u=>l(2,t=u));let{$$slots:r={},$$scope:s}=e,{page:o=""}=e,{color:a=""}=e;const i=()=>{t.page!==o?ve(De,t={page:o,color:a},t):ve(De,t={page:"",color:""},t)};return n.$$set=u=>{"page"in u&&l(0,o=u.page),"color"in u&&l(1,a=u.color),"$$scope"in u&&l(3,s=u.$$scope)},[o,a,t,s,r,i]}class Ce extends le{constructor(e){super();re(this,e,Hl,Vl,ne,{page:0,color:1})}}function Ol(n){let e,l;return e=new Jt({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Sl(n){let e,l;return e=new Kt({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function jl(n){let e,l;return e=new Ft({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Cl(n){let e,l;return e=new Qt({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ll(n){let e,l,t,r,s,o,a,i,u,f,m;return l=new Ce({props:{page:"leave",color:"hsla(1, 60%, 60%, 1)",$$slots:{default:[Ol]},$$scope:{ctx:n}}}),r=new Ce({props:{page:"help",color:"hsla(220, 50%, 60%, 1)",$$slots:{default:[Sl]},$$scope:{ctx:n}}}),o=new Ce({props:{page:"history",color:"hsla(35, 90%, 60%, 1)",$$slots:{default:[jl]},$$scope:{ctx:n}}}),i=new Ce({props:{page:"",color:"hsla(8, 30%, 30%, 1)",$$slots:{default:[Cl]},$$scope:{ctx:n}}}),{c(){e=b("div"),G(l.$$.fragment),t=L(),G(r.$$.fragment),s=L(),G(o.$$.fragment),a=L(),G(i.$$.fragment),u=L(),f=b("div"),this.h()},l(c){e=k(c,"DIV",{class:!0});var _=w(e);Y(l.$$.fragment,_),t=U(_),Y(r.$$.fragment,_),s=U(_),Y(o.$$.fragment,_),a=U(_),Y(i.$$.fragment,_),_.forEach(d),u=U(c),f=k(c,"DIV",{class:!0}),w(f).forEach(d),this.h()},h(){O(e,"class","menu svelte-woevsr"),O(f,"class","bottom-bg svelte-woevsr")},m(c,_){D(c,e,_),q(l,e,null),g(e,t),q(r,e,null),g(e,s),q(o,e,null),g(e,a),q(i,e,null),D(c,u,_),D(c,f,_),m=!0},p(c,[_]){const h={};_&1&&(h.$$scope={dirty:_,ctx:c}),l.$set(h);const I={};_&1&&(I.$$scope={dirty:_,ctx:c}),r.$set(I);const T={};_&1&&(T.$$scope={dirty:_,ctx:c}),o.$set(T);const N={};_&1&&(N.$$scope={dirty:_,ctx:c}),i.$set(N)},i(c){m||(V(l.$$.fragment,c),V(r.$$.fragment,c),V(o.$$.fragment,c),V(i.$$.fragment,c),m=!0)},o(c){S(l.$$.fragment,c),S(r.$$.fragment,c),S(o.$$.fragment,c),S(i.$$.fragment,c),m=!1},d(c){c&&d(e),R(l),R(r),R(o),R(i),c&&d(u),c&&d(f)}}}class Ul extends le{constructor(e){super();re(this,e,null,Ll,ne,{})}}function Nl(n){let e,l,t,r,s,o,a;return{c(){e=b("h3"),l=M("Are you sure you want to leave?"),t=L(),r=b("button"),s=M("Leave game"),this.h()},l(i){e=k(i,"H3",{});var u=w(e);l=A(u,"Are you sure you want to leave?"),u.forEach(d),t=U(i),r=k(i,"BUTTON",{class:!0});var f=w(r);s=A(f,"Leave game"),f.forEach(d),this.h()},h(){O(r,"class","bg-white")},m(i,u){D(i,e,u),g(e,l),D(i,t,u),D(i,r,u),g(r,s),o||(a=se(r,"click",n[0]),o=!0)},p:F,i:F,o:F,d(i){i&&d(e),i&&d(t),i&&d(r),o=!1,a()}}}function Pl(n){return[()=>he("leave")]}class Bl extends le{constructor(e){super();re(this,e,Pl,Nl,ne,{})}}function Ml(n){let e,l,t,r,s,o,a,i,u,f,m,c,_,h,I,T,N,E,$,j,W,P,J,y,H,p,B,de,ee,K,v,z,x,X;return{c(){e=b("h1"),l=M("How to play"),t=L(),r=b("h4"),s=M("1. The black bottom bar of your screen is for navigating between pages, and the game board."),o=L(),a=b("ul"),i=b("li"),u=M("The far left button, a door, is for leaving this game."),f=L(),m=b("li"),c=M("The book button is for viewing this page, which is to help players."),_=L(),h=b("li"),I=M(`The hour glass button is for the history page, showing all the events that have happened in the
		game. It records when players join, leave, and when they play cards.`),T=L(),N=b("li"),E=M(`The far right button, of the two people, is for the game board, where you play UNO. You'll spend
		most of your time there.`),$=L(),j=b("h4"),W=M("2. The game board is split into 2 main parts:"),P=L(),J=b("ul"),y=b("li"),H=M(`The table, on the left, where you can see everyone else's hands, and the two stacks, the discard
		and draw pile.`),p=L(),B=b("li"),de=M(`Your hand is on the right, in a vertical strip. You can't reorder the cards in your hand, but
		they should automagically end up in a pleasing order.`),ee=L(),K=b("h4"),v=M("3. Move cards by clicking one to move, and then a destination."),z=L(),x=b("p"),X=M(`Clicking a card will select it, seen by it rising and shining. Then, click another card or area to
	move it to. If you accidentally selected the card or want to change your mind, click the card again
	to deselect it.`),this.h()},l(C){e=k(C,"H1",{});var Z=w(e);l=A(Z,"How to play"),Z.forEach(d),t=U(C),r=k(C,"H4",{class:!0});var ye=w(r);s=A(ye,"1. The black bottom bar of your screen is for navigating between pages, and the game board."),ye.forEach(d),o=U(C),a=k(C,"UL",{});var ie=w(a);i=k(ie,"LI",{});var Ye=w(i);u=A(Ye,"The far left button, a door, is for leaving this game."),Ye.forEach(d),f=U(ie),m=k(ie,"LI",{});var qe=w(m);c=A(qe,"The book button is for viewing this page, which is to help players."),qe.forEach(d),_=U(ie),h=k(ie,"LI",{});var Re=w(h);I=A(Re,`The hour glass button is for the history page, showing all the events that have happened in the
		game. It records when players join, leave, and when they play cards.`),Re.forEach(d),T=U(ie),N=k(ie,"LI",{});var We=w(N);E=A(We,`The far right button, of the two people, is for the game board, where you play UNO. You'll spend
		most of your time there.`),We.forEach(d),ie.forEach(d),$=U(C),j=k(C,"H4",{class:!0});var Je=w(j);W=A(Je,"2. The game board is split into 2 main parts:"),Je.forEach(d),P=U(C),J=k(C,"UL",{});var Ve=w(J);y=k(Ve,"LI",{});var Ke=w(y);H=A(Ke,`The table, on the left, where you can see everyone else's hands, and the two stacks, the discard
		and draw pile.`),Ke.forEach(d),p=U(Ve),B=k(Ve,"LI",{});var Fe=w(B);de=A(Fe,`Your hand is on the right, in a vertical strip. You can't reorder the cards in your hand, but
		they should automagically end up in a pleasing order.`),Fe.forEach(d),Ve.forEach(d),ee=U(C),K=k(C,"H4",{class:!0});var Qe=w(K);v=A(Qe,"3. Move cards by clicking one to move, and then a destination."),Qe.forEach(d),z=U(C),x=k(C,"P",{});var Xe=w(x);X=A(Xe,`Clicking a card will select it, seen by it rising and shining. Then, click another card or area to
	move it to. If you accidentally selected the card or want to change your mind, click the card again
	to deselect it.`),Xe.forEach(d),this.h()},h(){O(r,"class","svelte-6xyuhn"),O(j,"class","svelte-6xyuhn"),O(K,"class","svelte-6xyuhn")},m(C,Z){D(C,e,Z),g(e,l),D(C,t,Z),D(C,r,Z),g(r,s),D(C,o,Z),D(C,a,Z),g(a,i),g(i,u),g(a,f),g(a,m),g(m,c),g(a,_),g(a,h),g(h,I),g(a,T),g(a,N),g(N,E),D(C,$,Z),D(C,j,Z),g(j,W),D(C,P,Z),D(C,J,Z),g(J,y),g(y,H),g(J,p),g(J,B),g(B,de),D(C,ee,Z),D(C,K,Z),g(K,v),D(C,z,Z),D(C,x,Z),g(x,X)},p:F,i:F,o:F,d(C){C&&d(e),C&&d(t),C&&d(r),C&&d(o),C&&d(a),C&&d($),C&&d(j),C&&d(P),C&&d(J),C&&d(ee),C&&d(K),C&&d(z),C&&d(x)}}}class Al extends le{constructor(e){super();re(this,e,null,Ml,ne,{})}}function Ot(n,e){const l=new Date(e),t=Math.round((n-+l)/1e3),r=60,s=r*60,o=s*24;let a;return t<2?a="just now":t<r?a=t+" seconds ago":t<2*r?a="a minute ago":t<s?a=Math.floor(t/r)+" minutes ago":Math.floor(t/s)==1?a="1 hour ago":t<o?a=Math.floor(t/s)+" hours ago":t<o*2&&(a="yesterday"),a}function St(n,e,l){const t=n.slice();return t[6]=e[l],t[8]=l,t}function jt(n,e){let l,t,r=e[6].message+"",s,o,a,i=Ot(e[0],e[6].time)+"",u,f;return{key:n,first:null,c(){l=b("div"),t=b("div"),s=M(r),o=L(),a=b("div"),u=M(i),f=L(),this.h()},l(m){l=k(m,"DIV",{style:!0,class:!0});var c=w(l);t=k(c,"DIV",{});var _=w(t);s=A(_,r),_.forEach(d),o=U(c),a=k(c,"DIV",{class:!0});var h=w(a);u=A(h,i),h.forEach(d),f=U(c),c.forEach(d),this.h()},h(){O(a,"class","time svelte-1tckdl2"),ue(l,"--accent",e[3](e[6].message[0])),O(l,"class","svelte-1tckdl2"),this.first=l},m(m,c){D(m,l,c),g(l,t),g(t,s),g(l,o),g(l,a),g(a,u),g(l,f)},p(m,c){e=m,c&4&&r!==(r=e[6].message+"")&&_e(s,r),c&5&&i!==(i=Ot(e[0],e[6].time)+"")&&_e(u,i),c&4&&ue(l,"--accent",e[3](e[6].message[0]))},d(m){m&&d(l)}}}function zl(n){let e,l,t,r,s,o=[],a=new Map,i=n[2];const u=f=>f[6].time;for(let f=0;f<i.length;f+=1){let m=St(n,i,f),c=u(m);a.set(c,o[f]=jt(c,m))}return{c(){e=b("div"),l=b("div"),t=b("h1"),r=M("History"),s=L();for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=k(f,"DIV",{class:!0});var m=w(e);l=k(m,"DIV",{class:!0});var c=w(l);t=k(c,"H1",{});var _=w(t);r=A(_,"History"),_.forEach(d),c.forEach(d),s=U(m);for(let h=0;h<o.length;h+=1)o[h].l(m);m.forEach(d),this.h()},h(){O(l,"class","svelte-1tckdl2"),O(e,"class","table svelte-1tckdl2")},m(f,m){D(f,e,m),g(e,l),g(l,t),g(t,r),g(e,s);for(let c=0;c<o.length;c+=1)o[c].m(e,null);n[4](e)},p(f,[m]){m&13&&(i=f[2],o=Ue(o,m,u,1,f,i,a,e,Xt,jt,null,St))},i:F,o:F,d(f){f&&d(e);for(let m=0;m<o.length;m+=1)o[m].d();n[4](null)}}}function Gl(n,e,l){let t;Q(n,ct,u=>l(2,t=u));let r=new Date,s;we(()=>{setInterval(()=>{l(0,r=new Date)},3e3+Math.random()*3e3),s.scrollIntoView({behavior:"smooth",block:"end"})});const o="abcdefghijklmnopqrstuvwxyz".split("");function a(u){const f=o.indexOf(u)+1;return f>o.length*3/4?"hsl(10, 100%, 71%)":f>o.length*1/2?"hsl(53, 99%, 67%)":f>o.length*1/4?"hsl(101, 79%, 63%)":"hsl(208, 100%, 75%)"}function i(u){Ne[u?"unshift":"push"](()=>{s=u,l(1,s)})}return[r,s,t,a,i]}class Yl extends le{constructor(e){super();re(this,e,Gl,zl,ne,{})}}function Ct(n){let e,l,t,r;const s=[Wl,Rl,ql],o=[];function a(i,u){return i[1].page==="leave"?0:i[1].page==="help"?1:i[1].page==="history"?2:-1}return~(l=a(n))&&(t=o[l]=s[l](n)),{c(){e=b("div"),t&&t.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var u=w(e);t&&t.l(u),u.forEach(d),this.h()},h(){O(e,"class","page svelte-8vad2g"),ue(e,"background-color",n[1].color.replace("60%, 1)","30%, 0.8)"))},m(i,u){D(i,e,u),~l&&o[l].m(e,null),r=!0},p(i,u){let f=l;l=a(i),l!==f&&(t&&(oe(),S(o[f],1,1,()=>{o[f]=null}),ae()),~l?(t=o[l],t||(t=o[l]=s[l](i),t.c()),V(t,1),t.m(e,null)):t=null),(!r||u&2)&&ue(e,"background-color",i[1].color.replace("60%, 1)","30%, 0.8)"))},i(i){r||(V(t),r=!0)},o(i){S(t),r=!1},d(i){i&&d(e),~l&&o[l].d()}}}function ql(n){let e,l;return e=new Yl({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Rl(n){let e,l;return e=new Al({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Wl(n){let e,l;return e=new Bl({}),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Jl(n){let e,l,t,r,s,o,a,i,u,f,m,c,_=n[1].page&&Ct(n);return s=new Dl({}),a=new Il({}),u=new kl({}),m=new Ul({}),{c(){e=b("div"),_&&_.c(),l=L(),t=b("div"),r=b("div"),G(s.$$.fragment),o=L(),G(a.$$.fragment),i=L(),G(u.$$.fragment),f=L(),G(m.$$.fragment),this.h()},l(h){e=k(h,"DIV",{class:!0,style:!0});var I=w(e);_&&_.l(I),l=U(I),t=k(I,"DIV",{class:!0});var T=w(t);r=k(T,"DIV",{class:!0});var N=w(r);Y(s.$$.fragment,N),o=U(N),Y(a.$$.fragment,N),N.forEach(d),i=U(T),Y(u.$$.fragment,T),T.forEach(d),f=U(I),Y(m.$$.fragment,I),I.forEach(d),this.h()},h(){O(r,"class","table svelte-8vad2g"),O(t,"class","hand-table svelte-8vad2g"),O(e,"class","game svelte-8vad2g"),ue(e,"height","calc("+n[0]+"px + 0.5rem)")},m(h,I){D(h,e,I),_&&_.m(e,null),g(e,l),g(e,t),g(t,r),q(s,r,null),g(r,o),q(a,r,null),g(t,i),q(u,t,null),g(e,f),q(m,e,null),c=!0},p(h,[I]){h[1].page?_?(_.p(h,I),I&2&&V(_,1)):(_=Ct(h),_.c(),V(_,1),_.m(e,l)):_&&(oe(),S(_,1,1,()=>{_=null}),ae()),(!c||I&1)&&ue(e,"height","calc("+h[0]+"px + 0.5rem)")},i(h){c||(V(_),V(s.$$.fragment,h),V(a.$$.fragment,h),V(u.$$.fragment,h),V(m.$$.fragment,h),c=!0)},o(h){S(_),S(s.$$.fragment,h),S(a.$$.fragment,h),S(u.$$.fragment,h),S(m.$$.fragment,h),c=!1},d(h){h&&d(e),_&&_.d(),R(s),R(a),R(u),R(m)}}}function Kl(n,e,l){let t;Q(n,De,s=>l(1,t=s));let r=window.innerHeight;return we(()=>{addEventListener("resize",()=>{l(0,r=window.innerHeight)})}),[r,t]}class Fl extends le{constructor(e){super();re(this,e,Kl,Jl,ne,{})}}function Lt(n){let e,l;return e=new tl({props:{style:n[1].style,message:n[1].message,closable:n[1].closable}}),e.$on("close",n[5]),{c(){G(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},p(t,r){const s={};r&2&&(s.style=t[1].style),r&2&&(s.message=t[1].message),r&2&&(s.closable=t[1].closable),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ql(n){let e,l,t,r,s;return l=new Fl({}),{c(){e=b("div"),G(l.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var a=w(e);Y(l.$$.fragment,a),a.forEach(d),this.h()},h(){O(e,"class","svelte-nrbvt4")},m(o,a){D(o,e,a),q(l,e,null),s=!0},p(o,a){n=o},i(o){s||(V(l.$$.fragment,o),Pe(()=>{r&&r.end(1),t=Be(e,Oe,n[2]),t.start()}),s=!0)},o(o){S(l.$$.fragment,o),t&&t.invalidate(),r=Me(e,Oe,n[3]),s=!1},d(o){o&&d(e),R(l),o&&r&&r.end()}}}function Xl(n){let e,l,t,r,s;return l=new pl({}),{c(){e=b("div"),G(l.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var a=w(e);Y(l.$$.fragment,a),a.forEach(d),this.h()},h(){O(e,"class","svelte-nrbvt4")},m(o,a){D(o,e,a),q(l,e,null),s=!0},p(o,a){n=o},i(o){s||(V(l.$$.fragment,o),Pe(()=>{r&&r.end(1),t=Be(e,Oe,n[2]),t.start()}),s=!0)},o(o){S(l.$$.fragment,o),t&&t.invalidate(),r=Me(e,Oe,n[3]),s=!1},d(o){o&&d(e),R(l),o&&r&&r.end()}}}function Zl(n){let e,l,t;return l=new il({}),{c(){e=b("div"),G(l.$$.fragment),this.h()},l(r){e=k(r,"DIV",{class:!0});var s=w(e);Y(l.$$.fragment,s),s.forEach(d),this.h()},h(){O(e,"class","svelte-nrbvt4")},m(r,s){D(r,e,s),q(l,e,null),t=!0},p:F,i(r){t||(V(l.$$.fragment,r),t=!0)},o(r){S(l.$$.fragment,r),t=!1},d(r){r&&d(e),R(l)}}}function xl(n){let e,l,t,r,s,o=n[1].show&&Lt(n);const a=[Zl,Xl,Ql],i=[];function u(f,m){return f[0]==="profile"?0:f[0]==="lobby"?1:f[0]==="game"?2:-1}return~(t=u(n))&&(r=i[t]=a[t](n)),{c(){o&&o.c(),e=L(),l=b("div"),r&&r.c(),this.h()},l(f){o&&o.l(f),e=U(f),l=k(f,"DIV",{class:!0});var m=w(l);r&&r.l(m),m.forEach(d),this.h()},h(){O(l,"class","game svelte-nrbvt4")},m(f,m){o&&o.m(f,m),D(f,e,m),D(f,l,m),~t&&i[t].m(l,null),s=!0},p(f,[m]){f[1].show?o?(o.p(f,m),m&2&&V(o,1)):(o=Lt(f),o.c(),V(o,1),o.m(e.parentNode,e)):o&&(oe(),S(o,1,1,()=>{o=null}),ae());let c=t;t=u(f),t===c?~t&&i[t].p(f,m):(r&&(oe(),S(i[c],1,1,()=>{i[c]=null}),ae()),~t?(r=i[t],r?r.p(f,m):(r=i[t]=a[t](f),r.c()),V(r,1),r.m(l,null)):r=null)},i(f){s||(V(o),V(r),s=!0)},o(f){S(o),S(r),s=!1},d(f){o&&o.d(f),f&&d(e),f&&d(l),~t&&i[t].d()}}}function er(n,e,l){let t,r,s;Q(n,be,u=>l(4,t=u)),Q(n,it,u=>l(0,r=u)),Q(n,me,u=>l(1,s=u)),we(()=>{he("register",{recovery:localStorage.getItem("recovery")})});const o={x:400,duration:500},a={x:-400,duration:500},i=()=>{ve(me,s.show=!1,s)};return n.$$.update=()=>{n.$$.dirty&17&&r==="lobby"&&window.history.replaceState(null,null,`?code=${t.toUpperCase()}`)},[r,s,o,a,t,i]}class sr extends le{constructor(e){super();re(this,e,er,xl,ne,{})}}export{sr as default};
