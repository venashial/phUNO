var Ut=Object.defineProperty;var Ze=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable;var xe=(n,e,l)=>e in n?Ut(n,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[e]=l,Oe=(n,e)=>{for(var l in e||(e={}))jt.call(e,l)&&xe(n,l,e[l]);if(Ze)for(var l of Ze(e))Bt.call(e,l)&&xe(n,l,e[l]);return n};import{C as ce,S as le,i as re,s as ne,e as k,t as M,k as N,c as y,a as I,g as A,d,n as P,b as C,f as T,F as p,a5 as et,M as se,J as F,a6 as je,O as Q,a7 as $e,h as _e,a1 as de,r as oe,u as O,w as ae,x as V,a8 as be,j as z,m as Y,o as R,v as W,p as tt,q as lt,K as Mt,L as At,P as Gt,N as Be,U as zt,A as Se,B as rt,a9 as Me,a2 as Ee,a3 as Ce,a4 as Le,aa as Yt,l as nt,D as Rt,G as Wt,H as qt,I as Jt,ab as Kt,R as Ft,ac as Qt,ad as Xt,ae as Zt,af as st,ag as me}from"../../chunks/vendor-2422d344.js";import{g as ot,p as xt,C as ge,r as el,s as tl,O as ll}from"../../chunks/Card-11a3bd9d.js";import"../../chunks/singletons-12a22614.js";const Ie=ce(!1),ke=ce("");let at="";at=localStorage.getItem("recovery")||"";const it=ce(at);it.subscribe(n=>{localStorage.setItem("recovery",n)});const Ae=ce(""),Te=ce({}),Ge=ce([]),De=ce({}),ve=ce({location:"",cardIndex:""}),ct=ce("profile"),pe=ce({show:!1,closable:!0,style:"",message:""}),Ve=ce({page:"",color:""}),ft=ce([]);var rl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isHost:Ie,code:ke,recovery:it,nickname:Ae,hand:Te,players:Ge,discard:De,focused:ve,state:ct,overlay:pe,gamePage:Ve,log:ft});function nl(n){n.error?pe.set({style:"warning",closable:!0,message:n.error,show:!0}):n.type==="update"?rl[n.store].set(n.data):n.type==="redirect"&&ot(n.url+(n.message?"?message="+encodeURIComponent(n.message):""))}const sl="api-uno.venashial.games",ol=JSON.parse("true");let ze="";ke.subscribe(n=>{ze=n});let Ne;async function ue(n="",e={},l=!1){try{(!Ne||Ne.readyState===3)&&(Ne=await ut()),Ne.send(JSON.stringify({route:n,body:Oe(Oe({},e),ze!==""?{code:ze}:{})}))}catch(t){console.error(t)}}function ut(n=0){return new Promise(function(e,l){console.log("Connecting...");const t=new WebSocket(`ws${ol?"s":""}://${sl}/ws`),r=setTimeout(()=>{l(new Error("WebSocket timeout")),console.log("Socket connection timed out."),clearTimeout(r),t.close()},2e3);t.onopen=()=>{clearTimeout(r),n>0&&(console.log(`Reconnected after ${n} tries`),pe.set({show:!1,closable:!0,style:"",message:""}),ue("register",{recovery:localStorage.getItem("recovery")})),e(t)},t.onerror=o=>{console.log("Socket errored"),l(o)},t.onmessage=o=>{nl(JSON.parse(o.data))};let s=!1;window.onbeforeunload=()=>{s=!0},t.onclose=()=>{console.log("Socket closed!"),pe.set({show:!0,closable:!1,style:"error",message:"Womp womp. The server just went offline! You'll be reconnected as soon as possible"+".".repeat(n)}),s||setTimeout(()=>ut(n+1).catch(()=>console.log("Reconnect failed")),n<10?2e3:1e4)}})}function al(n){let e,l,t,r,s,o,a=(n[1]?"Create":"Join")+"",c,i,u,m;return{c(){e=k("p"),l=M("What's your name?"),t=N(),r=k("input"),s=N(),o=k("button"),c=M(a),i=M(" room"),this.h()},l(f){e=y(f,"P",{});var _=I(e);l=A(_,"What's your name?"),_.forEach(d),t=P(f),r=y(f,"INPUT",{type:!0,placeholder:!0}),s=P(f),o=y(f,"BUTTON",{});var h=I(o);c=A(h,a),i=A(h," room"),h.forEach(d),this.h()},h(){C(r,"type","text"),C(r,"placeholder","...")},m(f,_){T(f,e,_),p(e,l),T(f,t,_),T(f,r,_),et(r,n[0]),T(f,s,_),T(f,o,_),p(o,c),p(o,i),u||(m=[se(r,"input",n[3]),se(o,"click",n[4])],u=!0)},p(f,[_]){_&1&&r.value!==f[0]&&et(r,f[0])},i:F,o:F,d(f){f&&d(e),f&&d(t),f&&d(r),f&&d(s),f&&d(o),u=!1,je(m)}}}function il(n,e,l){let t,r,s,o;Q(n,ke,_=>l(5,t=_)),Q(n,pe,_=>l(6,r=_)),Q(n,xt,_=>l(7,s=_)),Q(n,Ie,_=>l(8,o=_));let a;!s.query.get("code")&&typeof s.query.get("create")!="string"&&ot("/");const c=typeof s.query.get("create")=="string";c&&$e(Ie,o=!0,o);const i=s.query.get("code");i&&$e(ke,t=i.toLowerCase(),t);async function u(){if(!a){$e(pe,r={show:!0,closable:!0,style:"warning",message:"Sorry, but you can't be nameless. Enter a name."},r);return}c||await ue("join",{code:t,nickname:a}),c&&await ue("create",{nickname:a})}function m(){a=this.value,l(0,a)}return[a,c,u,m,()=>{u()}]}class cl extends le{constructor(e){super();re(this,e,il,al,ne,{})}}function fl(n){let e;return{c(){e=M(n[0])},l(l){e=A(l,n[0])},m(l,t){T(l,e,t)},p(l,[t]){t&1&&_e(e,l[0])},i:F,o:F,d(l){l&&d(e)}}}function ul(n,e,l){let t="";return setInterval(()=>{t.length<6?l(0,t+="."):l(0,t="")},500),[t]}class hl extends le{constructor(e){super();re(this,e,ul,fl,ne,{})}}function ht(n,e,l){const t=n.slice();return t[9]=e[l],t}function dl(n){let e,l,t,r;return{c(){e=k("button"),l=M("Share link"),this.h()},l(s){e=y(s,"BUTTON",{class:!0});var o=I(e);l=A(o,"Share link"),o.forEach(d),this.h()},h(){C(e,"class","bg-red")},m(s,o){T(s,e,o),p(e,l),t||(r=se(e,"click",n[5]),t=!0)},p:F,d(s){s&&d(e),t=!1,r()}}}function dt(n){let e,l,t,r;function s(){return n[6](n[9])}return{c(){e=k("button"),l=M("Kick"),this.h()},l(o){e=y(o,"BUTTON",{class:!0});var a=I(e);l=A(a,"Kick"),a.forEach(d),this.h()},h(){C(e,"class","svelte-1om871g")},m(o,a){T(o,e,a),p(e,l),t||(r=se(e,"click",s),t=!0)},p(o,a){n=o},d(o){o&&d(e),t=!1,r()}}}function _t(n){let e,l,t,r=n[9].nickname+"",s,o,a=(n[9].nickname===n[2]?"(You)":"")+"",c,i,u=(n[9].isHost?"(Host)":"")+"",m,f,_,h=n[3]&&n[9].nickname!==n[2]&&dt(n);return{c(){e=k("div"),l=k("span"),t=k("b"),s=M(r),o=N(),c=M(a),i=N(),m=M(u),f=N(),h&&h.c(),_=N(),this.h()},l(w){e=y(w,"DIV",{class:!0});var D=I(e);l=y(D,"SPAN",{});var U=I(l);t=y(U,"B",{});var E=I(t);s=A(E,r),E.forEach(d),o=P(U),c=A(U,a),i=P(U),m=A(U,u),U.forEach(d),f=P(D),h&&h.l(D),_=P(D),D.forEach(d),this.h()},h(){C(e,"class","player svelte-1om871g")},m(w,D){T(w,e,D),p(e,l),p(l,t),p(t,s),p(l,o),p(l,c),p(l,i),p(l,m),p(e,f),h&&h.m(e,null),p(e,_)},p(w,D){D&2&&r!==(r=w[9].nickname+"")&&_e(s,r),D&6&&a!==(a=(w[9].nickname===w[2]?"(You)":"")+"")&&_e(c,a),D&2&&u!==(u=(w[9].isHost?"(Host)":"")+"")&&_e(m,u),w[3]&&w[9].nickname!==w[2]?h?h.p(w,D):(h=dt(w),h.c(),h.m(e,_)):h&&(h.d(1),h=null)},d(w){w&&d(e),h&&h.d()}}}function _l(n){let e,l,t,r;return t=new hl({}),{c(){e=k("span"),l=M("Wating for host"),z(t.$$.fragment),this.h()},l(s){e=y(s,"SPAN",{class:!0});var o=I(e);l=A(o,"Wating for host"),Y(t.$$.fragment,o),o.forEach(d),this.h()},h(){C(e,"class","dark-block")},m(s,o){T(s,e,o),p(e,l),R(t,e,null),r=!0},p:F,i(s){r||(V(t.$$.fragment,s),r=!0)},o(s){O(t.$$.fragment,s),r=!1},d(s){s&&d(e),W(t)}}}function ml(n){let e,l,t,r;return{c(){e=k("button"),l=M("Start game"),this.h()},l(s){e=y(s,"BUTTON",{class:!0});var o=I(e);l=A(o,"Start game"),o.forEach(d),this.h()},h(){C(e,"class","bg-yellow")},m(s,o){T(s,e,o),p(e,l),t||(r=se(e,"click",n[7]),t=!0)},p:F,i:F,o:F,d(s){s&&d(e),t=!1,r()}}}function pl(n){let e,l,t,r,s=`${window.location.origin}/game?code=${n[0].toUpperCase()}`,o,a,c,i,u,m,f,_,h,w,D,U,E,$,S,q,j,J,b,H=navigator.share&&dl(n),g=n[1],B=[];for(let v=0;v<g.length;v+=1)B[v]=_t(ht(n,g,v));const he=[ml,_l],ee=[];function K(v,G){return v[3]?0:1}return U=K(n),E=ee[U]=he[U](n),{c(){e=k("h2"),l=M("Invite"),t=N(),r=k("div"),o=M(s),a=N(),c=k("button"),i=M("Copy game link"),u=N(),H&&H.c(),m=N(),f=k("h2"),_=M("Players"),h=N(),w=k("div");for(let v=0;v<B.length;v+=1)B[v].c();D=N(),E.c(),$=N(),S=k("button"),q=M("Leave room"),this.h()},l(v){e=y(v,"H2",{class:!0});var G=I(e);l=A(G,"Invite"),G.forEach(d),t=P(v),r=y(v,"DIV",{class:!0});var x=I(r);o=A(x,s),x.forEach(d),a=P(v),c=y(v,"BUTTON",{class:!0});var X=I(c);i=A(X,"Copy game link"),X.forEach(d),u=P(v),H&&H.l(v),m=P(v),f=y(v,"H2",{style:!0,class:!0});var L=I(f);_=A(L,"Players"),L.forEach(d),h=P(v),w=y(v,"DIV",{class:!0});var Z=I(w);for(let ie=0;ie<B.length;ie+=1)B[ie].l(Z);Z.forEach(d),D=P(v),E.l(v),$=P(v),S=y(v,"BUTTON",{class:!0,style:!0});var we=I(S);q=A(we,"Leave room"),we.forEach(d),this.h()},h(){C(e,"class","svelte-1om871g"),C(r,"class","code svelte-1om871g"),C(c,"class","bg-green"),C(f,"style","m"),C(f,"class","svelte-1om871g"),C(w,"class","players-list svelte-1om871g"),C(S,"class","bg-blue"),de(S,"margin-top","auto")},m(v,G){T(v,e,G),p(e,l),T(v,t,G),T(v,r,G),p(r,o),T(v,a,G),T(v,c,G),p(c,i),T(v,u,G),H&&H.m(v,G),T(v,m,G),T(v,f,G),p(f,_),T(v,h,G),T(v,w,G);for(let x=0;x<B.length;x+=1)B[x].m(w,null);T(v,D,G),ee[U].m(v,G),T(v,$,G),T(v,S,G),p(S,q),j=!0,J||(b=[se(c,"click",n[4]),se(S,"click",n[8])],J=!0)},p(v,[G]){if((!j||G&1)&&s!==(s=`${window.location.origin}/game?code=${v[0].toUpperCase()}`)&&_e(o,s),navigator.share&&H.p(v,G),G&14){g=v[1];let X;for(X=0;X<g.length;X+=1){const L=ht(v,g,X);B[X]?B[X].p(L,G):(B[X]=_t(L),B[X].c(),B[X].m(w,null))}for(;X<B.length;X+=1)B[X].d(1);B.length=g.length}let x=U;U=K(v),U===x?ee[U].p(v,G):(oe(),O(ee[x],1,1,()=>{ee[x]=null}),ae(),E=ee[U],E?E.p(v,G):(E=ee[U]=he[U](v),E.c()),V(E,1),E.m($.parentNode,$))},i(v){j||(V(E),j=!0)},o(v){O(E),j=!1},d(v){v&&d(e),v&&d(t),v&&d(r),v&&d(a),v&&d(c),v&&d(u),H&&H.d(v),v&&d(m),v&&d(f),v&&d(h),v&&d(w),be(B,v),v&&d(D),ee[U].d(v),v&&d($),v&&d(S),J=!1,je(b)}}}function gl(n,e,l){let t,r,s,o;return Q(n,ke,f=>l(0,t=f)),Q(n,Ge,f=>l(1,r=f)),Q(n,Ae,f=>l(2,s=f)),Q(n,Ie,f=>l(3,o=f)),[t,r,s,o,()=>{navigator.clipboard.writeText(`${window.location.origin}/game?code=${t.toUpperCase()}`)},()=>{navigator.share({title:"UNO Game Invite",url:`${window.location.origin}/game?code=${t.toUpperCase()}`})},f=>ue("kick",{target:f.nickname}),async()=>{await ue("startGame")},async()=>{await ue("leave")}]}class vl extends le{constructor(e){super();re(this,e,gl,pl,ne,{})}}let te;ve.subscribe(n=>{te=n});let ye;Te.subscribe(n=>{ye=n});let fe;De.subscribe(n=>{fe=n});function Pe(n,e=""){te.location===""&&n==="discard"&&Object.keys(fe).length===0||(te.location===""||n==="hand"&&te.location==="hand"&&te.cardIndex!==e||te.location==="hand"&&te.cardIndex===""?ve.set({location:n,cardIndex:e}):n===te.location?ve.set({location:"",cardIndex:""}):(n==="discard"&&te.location==="hand"&&Object.keys(fe).length>0?(fe=Oe({[te.cardIndex]:ye[te.cardIndex]},fe),delete ye[te.cardIndex],De.set(fe),Te.set(ye)):n==="hand"&&te.location==="discard"&&(ye[Object.keys(fe)[0]]=fe[Object.keys(fe)[0]],delete fe[Object.keys(fe)[0]],Te.set(ye),De.set(fe)),ue("move",{source:te.location,destination:n,cardIndex:te.cardIndex}),ve.set({location:"",cardIndex:""})))}function mt(n,e,l){const t=n.slice();return t[11]=e[l][0],t[12]=e[l][1],t[14]=l,t}function pt(n,e){let l,t,r,s,o=F,a;const c=[e[12],{cardIndex:e[11]},{focused:e[4].location==="hand"&&e[4].cardIndex===e[11]}];function i(){return e[8](e[11])}let u={};for(let m=0;m<c.length;m+=1)u=rt(u,c[m]);return t=new ge({props:u}),t.$on("click",i),{key:n,first:null,c(){l=k("div"),z(t.$$.fragment),r=N(),this.h()},l(m){l=y(m,"DIV",{style:!0});var f=I(l);Y(t.$$.fragment,f),r=P(f),f.forEach(d),this.h()},h(){de(l,"margin-top",(e[14]!==0?e[3]:0)+"px"),this.first=l},m(m,f){T(m,l,f),R(t,l,null),p(l,r),a=!0},p(m,f){e=m;const _=f&18?tt(c,[f&2&&lt(e[12]),f&2&&{cardIndex:e[11]},{focused:e[4].location==="hand"&&e[4].cardIndex===e[11]}]):{};t.$set(_),(!a||f&10)&&de(l,"margin-top",(e[14]!==0?e[3]:0)+"px")},r(){s=l.getBoundingClientRect()},f(){Mt(l),o()},a(){o(),o=At(l,s,Gt,{duration:500})},i(m){a||(V(t.$$.fragment,m),a=!0)},o(m){O(t.$$.fragment,m),a=!1},d(m){m&&d(l),W(t)}}}function $l(n){let e,l,t,r,s=[],o=new Map,a,c,i,u=n[1];const m=f=>f[11];for(let f=0;f<u.length;f+=1){let _=mt(n,u,f),h=m(_);o.set(h,s[f]=pt(h,_))}return{c(){e=k("div"),l=k("div"),t=N(),r=k("div");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=y(f,"DIV",{class:!0});var _=I(e);l=y(_,"DIV",{class:!0}),I(l).forEach(d),t=P(_),r=y(_,"DIV",{class:!0,style:!0});var h=I(r);for(let w=0;w<s.length;w+=1)s[w].l(h);h.forEach(d),_.forEach(d),this.h()},h(){C(l,"class","hand-bg svelte-1n1k9b4"),C(r,"class","cards svelte-1n1k9b4"),C(r,"style",""),C(e,"class","hand svelte-1n1k9b4")},m(f,_){T(f,e,_),p(e,l),n[7](l),p(e,t),p(e,r);for(let h=0;h<s.length;h+=1)s[h].m(r,null);n[9](r),a=!0,c||(i=se(l,"click",n[6]),c=!0)},p(f,[_]){if(_&26){u=f[1],oe();for(let h=0;h<s.length;h+=1)s[h].r();s=Be(s,_,m,1,f,u,o,r,zt,pt,null,mt);for(let h=0;h<s.length;h+=1)s[h].a();ae()}},i(f){if(!a){for(let _=0;_<u.length;_+=1)V(s[_]);a=!0}},o(f){for(let _=0;_<s.length;_+=1)O(s[_]);a=!1},d(f){f&&d(e),n[7](null);for(let _=0;_<s.length;_+=1)s[_].d();n[9](null),c=!1,i()}}}function bl(n=0){return n*parseFloat(getComputedStyle(document.documentElement).fontSize)}function kl(n,e,l){let t,r;Q(n,Te,h=>l(5,t=h)),Q(n,ve,h=>l(4,r=h));let s,o,a=0;function c(){if(o&&s){const h=o.clientHeight-bl(5),w=s.firstElementChild.offsetHeight,D=Object.entries(t).length;D*(w+30)-30<h?l(3,a=30):l(3,a=(h-w*D)/(-1+D))}}Se(()=>{window.addEventListener("resize",c)});let i=[];const u=()=>Pe("hand");function m(h){Me[h?"unshift":"push"](()=>{o=h,l(2,o)})}const f=h=>Pe("hand",h);function _(h){Me[h?"unshift":"push"](()=>{s=h,l(0,s)})}return n.$$.update=()=>{n.$$.dirty&34&&t&&Object.entries(t).length!==i.length&&l(1,i=Object.entries(t).sort((h,w)=>h[1].color===w[1].color?parseInt(w[1].symbol)-parseInt(h[1].symbol):h[1].color.charCodeAt(0)-w[1].color.charCodeAt(0))),n.$$.dirty&3&&s&&i&&i.length>0&&setTimeout(()=>{c()},100)},[s,i,o,a,r,t,u,m,f,_]}class yl extends le{constructor(e){super();re(this,e,kl,$l,ne,{})}}function gt(n,e,l){const t=n.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function vt(n,e,l){const t=n.slice();return t[9]=e[l],t[8]=l,t}function $t(n){let e,l,t,r;return l=new ge({props:{color:"black",symbol:"",floatLeft:!1,focused:n[1].location==="draw"&&n[8]===3}}),{c(){e=k("div"),z(l.$$.fragment),t=N(),this.h()},l(s){e=y(s,"DIV",{class:!0});var o=I(e);Y(l.$$.fragment,o),t=P(o),o.forEach(d),this.h()},h(){C(e,"class","svelte-hwypxs")},m(s,o){T(s,e,o),R(l,e,null),p(e,t),r=!0},p(s,o){const a={};o&2&&(a.focused=s[1].location==="draw"&&s[8]===3),l.$set(a)},i(s){r||(V(l.$$.fragment,s),r=!0)},o(s){O(l.$$.fragment,s),r=!1},d(s){s&&d(e),W(l)}}}function bt(n,e){let l,t,r,s,o,a;const c=[e[6],{floatLeft:!1},{focused:e[1].location==="discard"&&e[8]===e[0].length-1}];let i={};for(let u=0;u<c.length;u+=1)i=rt(i,c[u]);return t=new ge({props:i}),{key:n,first:null,c(){l=k("div"),z(t.$$.fragment),r=N(),this.h()},l(u){l=y(u,"DIV",{class:!0});var m=I(l);Y(t.$$.fragment,m),r=P(m),m.forEach(d),this.h()},h(){C(l,"class","svelte-hwypxs"),this.first=l},m(u,m){T(u,l,m),R(t,l,null),p(l,r),a=!0},p(u,m){e=u;const f=m&3?tt(c,[m&1&&lt(e[6]),c[1],{focused:e[1].location==="discard"&&e[8]===e[0].length-1}]):{};t.$set(f)},i(u){a||(V(t.$$.fragment,u),Ee(()=>{o&&o.end(1),s=Ce(l,el,{key:e[5]}),s.start()}),a=!0)},o(u){O(t.$$.fragment,u),s&&s.invalidate(),o=Le(l,tl,{key:e[5]}),a=!1},d(u){u&&d(l),W(t),u&&o&&o.end()}}}function wl(n){let e,l,t,r,s,o,a,c=[],i=new Map,u,m,f,_=[0,0,0,0],h=[];for(let E=0;E<4;E+=1)h[E]=$t(vt(n,_,E));const w=E=>O(h[E],1,1,()=>{h[E]=null});o=new ge({props:{color:"",symbol:"",style:"silhouette"}});let D=n[0];const U=E=>E[5];for(let E=0;E<D.length;E+=1){let $=gt(n,D,E),S=U($);i.set(S,c[E]=bt(S,$))}return{c(){e=k("div"),l=k("div");for(let E=0;E<4;E+=1)h[E].c();t=N(),r=k("div"),s=k("div"),z(o.$$.fragment),a=N();for(let E=0;E<c.length;E+=1)c[E].c();this.h()},l(E){e=y(E,"DIV",{class:!0});var $=I(e);l=y($,"DIV",{class:!0});var S=I(l);for(let J=0;J<4;J+=1)h[J].l(S);S.forEach(d),t=P($),r=y($,"DIV",{class:!0});var q=I(r);s=y(q,"DIV",{class:!0});var j=I(s);Y(o.$$.fragment,j),j.forEach(d),a=P(q);for(let J=0;J<c.length;J+=1)c[J].l(q);q.forEach(d),$.forEach(d),this.h()},h(){C(l,"class","svelte-hwypxs"),C(s,"class","svelte-hwypxs"),C(r,"class","svelte-hwypxs"),C(e,"class","piles svelte-hwypxs")},m(E,$){T(E,e,$),p(e,l);for(let S=0;S<4;S+=1)h[S].m(l,null);p(e,t),p(e,r),p(r,s),R(o,s,null),p(r,a);for(let S=0;S<c.length;S+=1)c[S].m(r,null);u=!0,m||(f=[se(l,"click",n[3]),se(r,"click",n[4])],m=!0)},p(E,[$]){if($&2){_=[0,0,0,0];let S;for(S=0;S<4;S+=1){const q=vt(E,_,S);h[S]?(h[S].p(q,$),V(h[S],1)):(h[S]=$t(q),h[S].c(),V(h[S],1),h[S].m(l,null))}for(oe(),S=4;S<4;S+=1)w(S);ae()}$&3&&(D=E[0],oe(),c=Be(c,$,U,1,E,D,i,r,Yt,bt,null,gt),ae())},i(E){if(!u){for(let $=0;$<4;$+=1)V(h[$]);V(o.$$.fragment,E);for(let $=0;$<D.length;$+=1)V(c[$]);u=!0}},o(E){h=h.filter(Boolean);for(let $=0;$<4;$+=1)O(h[$]);O(o.$$.fragment,E);for(let $=0;$<c.length;$+=1)O(c[$]);u=!1},d(E){E&&d(e),be(h,E),W(o);for(let $=0;$<c.length;$+=1)c[$].d();m=!1,je(f)}}}function El(n,e,l){let t,r;Q(n,De,c=>l(2,t=c)),Q(n,ve,c=>l(1,r=c));let s=[];const o=()=>Pe("draw"),a=()=>Pe("discard");return n.$$.update=()=>{if(n.$$.dirty&4&&t){const c=Object.entries(t).reverse();l(0,s=c.length>6?c.slice(c.length-5,c.length):c)}},[s,r,t,o,a]}class Il extends le{constructor(e){super();re(this,e,El,wl,ne,{})}}function kt(n,e,l){const t=n.slice();return t[4]=e[l],t}function yt(n,e,l){const t=n.slice();return t[7]=e[l],t}function wt(n,e,l){const t=n.slice();return t[7]=e[l],t}function Et(n,e,l){const t=n.slice();return t[7]=e[l],t}function It(n){let e,l,t=n[4].nickname+"",r,s,o,a,c,i,u,m,f,_,h=n[2]&&Tt(n),w=Array(Math.min(n[4].count,9)),D=[];for(let b=0;b<w.length;b+=1)D[b]=Dt(Et(n,w,b));const U=b=>O(D[b],1,1,()=>{D[b]=null});let E=Array(n[4].count>9?9:0),$=[];for(let b=0;b<E.length;b+=1)$[b]=Vt(wt(n,E,b));const S=b=>O($[b],1,1,()=>{$[b]=null});let q=Array(n[4].count>18?9:0),j=[];for(let b=0;b<q.length;b+=1)j[b]=Ht(yt(n,q,b));const J=b=>O(j[b],1,1,()=>{j[b]=null});return{c(){e=k("div"),l=k("div"),r=M(t),s=N(),h&&h.c(),o=N(),a=k("div");for(let b=0;b<D.length;b+=1)D[b].c();c=N(),i=k("div");for(let b=0;b<$.length;b+=1)$[b].c();u=N(),m=k("div");for(let b=0;b<j.length;b+=1)j[b].c();f=N(),this.h()},l(b){e=y(b,"DIV",{class:!0});var H=I(e);l=y(H,"DIV",{class:!0});var g=I(l);r=A(g,t),s=P(g),h&&h.l(g),g.forEach(d),o=P(H),a=y(H,"DIV",{class:!0});var B=I(a);for(let K=0;K<D.length;K+=1)D[K].l(B);c=P(B),i=y(B,"DIV",{class:!0});var he=I(i);for(let K=0;K<$.length;K+=1)$[K].l(he);he.forEach(d),u=P(B),m=y(B,"DIV",{class:!0});var ee=I(m);for(let K=0;K<j.length;K+=1)j[K].l(ee);ee.forEach(d),B.forEach(d),f=P(H),H.forEach(d),this.h()},h(){C(l,"class","nickname svelte-lypbk0"),C(i,"class","layered-count svelte-lypbk0"),C(m,"class","layered-count svelte-lypbk0"),C(a,"class","count svelte-lypbk0"),C(e,"class","hand")},m(b,H){T(b,e,H),p(e,l),p(l,r),p(l,s),h&&h.m(l,null),p(e,o),p(e,a);for(let g=0;g<D.length;g+=1)D[g].m(a,null);p(a,c),p(a,i);for(let g=0;g<$.length;g+=1)$[g].m(i,null);p(a,u),p(a,m);for(let g=0;g<j.length;g+=1)j[g].m(m,null);p(e,f),_=!0},p(b,H){if((!_||H&1)&&t!==(t=b[4].nickname+"")&&_e(r,t),b[2]?h?h.p(b,H):(h=Tt(b),h.c(),h.m(l,null)):h&&(h.d(1),h=null),H&1){w=Array(Math.min(b[4].count,9));let g;for(g=0;g<w.length;g+=1){const B=Et(b,w,g);D[g]?(D[g].p(B,H),V(D[g],1)):(D[g]=Dt(),D[g].c(),V(D[g],1),D[g].m(a,c))}for(oe(),g=w.length;g<D.length;g+=1)U(g);ae()}if(H&1){E=Array(b[4].count>9?9:0);let g;for(g=0;g<E.length;g+=1){const B=wt(b,E,g);$[g]?($[g].p(B,H),V($[g],1)):($[g]=Vt(),$[g].c(),V($[g],1),$[g].m(i,null))}for(oe(),g=E.length;g<$.length;g+=1)S(g);ae()}if(H&1){q=Array(b[4].count>18?9:0);let g;for(g=0;g<q.length;g+=1){const B=yt(b,q,g);j[g]?(j[g].p(B,H),V(j[g],1)):(j[g]=Ht(),j[g].c(),V(j[g],1),j[g].m(m,null))}for(oe(),g=q.length;g<j.length;g+=1)J(g);ae()}},i(b){if(!_){for(let H=0;H<w.length;H+=1)V(D[H]);for(let H=0;H<E.length;H+=1)V($[H]);for(let H=0;H<q.length;H+=1)V(j[H]);_=!0}},o(b){D=D.filter(Boolean);for(let H=0;H<D.length;H+=1)O(D[H]);$=$.filter(Boolean);for(let H=0;H<$.length;H+=1)O($[H]);j=j.filter(Boolean);for(let H=0;H<j.length;H+=1)O(j[H]);_=!1},d(b){b&&d(e),h&&h.d(),be(D,b),be($,b),be(j,b)}}}function Tt(n){let e,l,t,r;function s(){return n[3](n[4])}return{c(){e=k("button"),l=M("Kick"),this.h()},l(o){e=y(o,"BUTTON",{class:!0});var a=I(e);l=A(a,"Kick"),a.forEach(d),this.h()},h(){C(e,"class","svelte-lypbk0")},m(o,a){T(o,e,a),p(e,l),t||(r=se(e,"click",s),t=!0)},p(o,a){n=o},d(o){o&&d(e),t=!1,r()}}}function Dt(n){let e,l;return e=new ge({props:{color:"black",symbol:""}}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Vt(n){let e,l;return e=new ge({props:{color:"black",symbol:""}}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ht(n){let e,l;return e=new ge({props:{color:"black",symbol:""}}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},p:F,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ot(n){let e,l,t=n[4].nickname!==n[1]&&It(n);return{c(){t&&t.c(),e=nt()},l(r){t&&t.l(r),e=nt()},m(r,s){t&&t.m(r,s),T(r,e,s),l=!0},p(r,s){r[4].nickname!==r[1]?t?(t.p(r,s),s&3&&V(t,1)):(t=It(r),t.c(),V(t,1),t.m(e.parentNode,e)):t&&(oe(),O(t,1,1,()=>{t=null}),ae())},i(r){l||(V(t),l=!0)},o(r){O(t),l=!1},d(r){t&&t.d(r),r&&d(e)}}}function Tl(n){let e,l,t,r=n[0],s=[];for(let a=0;a<r.length;a+=1)s[a]=Ot(kt(n,r,a));const o=a=>O(s[a],1,1,()=>{s[a]=null});return{c(){e=k("div"),l=k("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=y(a,"DIV",{class:!0});var c=I(e);l=y(c,"DIV",{class:!0});var i=I(l);for(let u=0;u<s.length;u+=1)s[u].l(i);i.forEach(d),c.forEach(d),this.h()},h(){C(l,"class","hands svelte-lypbk0"),C(e,"class","players svelte-lypbk0")},m(a,c){T(a,e,c),p(e,l);for(let i=0;i<s.length;i+=1)s[i].m(l,null);t=!0},p(a,[c]){if(c&7){r=a[0];let i;for(i=0;i<r.length;i+=1){const u=kt(a,r,i);s[i]?(s[i].p(u,c),V(s[i],1)):(s[i]=Ot(u),s[i].c(),V(s[i],1),s[i].m(l,null))}for(oe(),i=r.length;i<s.length;i+=1)o(i);ae()}},i(a){if(!t){for(let c=0;c<r.length;c+=1)V(s[c]);t=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)O(s[c]);t=!1},d(a){a&&d(e),be(s,a)}}}function Dl(n,e,l){let t,r,s;return Q(n,Ge,a=>l(0,t=a)),Q(n,Ae,a=>l(1,r=a)),Q(n,Ie,a=>l(2,s=a)),[t,r,s,a=>ue("kick",{target:a.nickname})]}class Vl extends le{constructor(e){super();re(this,e,Dl,Tl,ne,{})}}function Hl(n){let e,l,t,r,s;const o=n[4].default,a=Rt(o,n,n[3],null);return{c(){e=k("div"),l=k("div"),a&&a.c(),this.h()},l(c){e=y(c,"DIV",{class:!0,style:!0});var i=I(e);l=y(i,"DIV",{class:!0});var u=I(l);a&&a.l(u),u.forEach(d),i.forEach(d),this.h()},h(){C(l,"class","icon svelte-11cx6hz"),C(e,"class","option svelte-11cx6hz"),de(e,"background-color",n[2].page===n[0]?n[1]:"transparent")},m(c,i){T(c,e,i),p(e,l),a&&a.m(l,null),t=!0,r||(s=se(e,"click",n[5]),r=!0)},p(c,[i]){a&&a.p&&(!t||i&8)&&Wt(a,o,c,c[3],t?Jt(o,c[3],i,null):qt(c[3]),null),(!t||i&7)&&de(e,"background-color",c[2].page===c[0]?c[1]:"transparent")},i(c){t||(V(a,c),t=!0)},o(c){O(a,c),t=!1},d(c){c&&d(e),a&&a.d(c),r=!1,s()}}}function Ol(n,e,l){let t;Q(n,Ve,i=>l(2,t=i));let{$$slots:r={},$$scope:s}=e,{page:o=""}=e,{color:a=""}=e;const c=()=>{t.page!==o?$e(Ve,t={page:o,color:a},t):$e(Ve,t={page:"",color:""},t)};return n.$$set=i=>{"page"in i&&l(0,o=i.page),"color"in i&&l(1,a=i.color),"$$scope"in i&&l(3,s=i.$$scope)},[o,a,t,s,r,c]}class Ue extends le{constructor(e){super();re(this,e,Ol,Hl,ne,{page:0,color:1})}}function Sl(n){let e,l;return e=new Kt({}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Cl(n){let e,l;return e=new Ft({}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ll(n){let e,l;return e=new Qt({}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Nl(n){let e,l;return e=new Xt({}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Pl(n){let e,l,t,r,s,o,a,c,i,u,m;return l=new Ue({props:{page:"leave",color:"hsla(1, 60%, 60%, 1)",$$slots:{default:[Sl]},$$scope:{ctx:n}}}),r=new Ue({props:{page:"help",color:"hsla(220, 50%, 60%, 1)",$$slots:{default:[Cl]},$$scope:{ctx:n}}}),o=new Ue({props:{page:"history",color:"hsla(35, 90%, 60%, 1)",$$slots:{default:[Ll]},$$scope:{ctx:n}}}),c=new Ue({props:{page:"",color:"hsla(8, 30%, 30%, 1)",$$slots:{default:[Nl]},$$scope:{ctx:n}}}),{c(){e=k("div"),z(l.$$.fragment),t=N(),z(r.$$.fragment),s=N(),z(o.$$.fragment),a=N(),z(c.$$.fragment),i=N(),u=k("div"),this.h()},l(f){e=y(f,"DIV",{class:!0});var _=I(e);Y(l.$$.fragment,_),t=P(_),Y(r.$$.fragment,_),s=P(_),Y(o.$$.fragment,_),a=P(_),Y(c.$$.fragment,_),_.forEach(d),i=P(f),u=y(f,"DIV",{class:!0}),I(u).forEach(d),this.h()},h(){C(e,"class","menu svelte-woevsr"),C(u,"class","bottom-bg svelte-woevsr")},m(f,_){T(f,e,_),R(l,e,null),p(e,t),R(r,e,null),p(e,s),R(o,e,null),p(e,a),R(c,e,null),T(f,i,_),T(f,u,_),m=!0},p(f,[_]){const h={};_&1&&(h.$$scope={dirty:_,ctx:f}),l.$set(h);const w={};_&1&&(w.$$scope={dirty:_,ctx:f}),r.$set(w);const D={};_&1&&(D.$$scope={dirty:_,ctx:f}),o.$set(D);const U={};_&1&&(U.$$scope={dirty:_,ctx:f}),c.$set(U)},i(f){m||(V(l.$$.fragment,f),V(r.$$.fragment,f),V(o.$$.fragment,f),V(c.$$.fragment,f),m=!0)},o(f){O(l.$$.fragment,f),O(r.$$.fragment,f),O(o.$$.fragment,f),O(c.$$.fragment,f),m=!1},d(f){f&&d(e),W(l),W(r),W(o),W(c),f&&d(i),f&&d(u)}}}class Ul extends le{constructor(e){super();re(this,e,null,Pl,ne,{})}}function jl(n){let e,l,t,r,s,o,a;return{c(){e=k("h3"),l=M("Are you sure you want to leave?"),t=N(),r=k("button"),s=M("Leave game"),this.h()},l(c){e=y(c,"H3",{});var i=I(e);l=A(i,"Are you sure you want to leave?"),i.forEach(d),t=P(c),r=y(c,"BUTTON",{class:!0});var u=I(r);s=A(u,"Leave game"),u.forEach(d),this.h()},h(){C(r,"class","bg-white")},m(c,i){T(c,e,i),p(e,l),T(c,t,i),T(c,r,i),p(r,s),o||(a=se(r,"click",n[0]),o=!0)},p:F,i:F,o:F,d(c){c&&d(e),c&&d(t),c&&d(r),o=!1,a()}}}function Bl(n){return[()=>ue("leave")]}class Ml extends le{constructor(e){super();re(this,e,Bl,jl,ne,{})}}function Al(n){let e,l,t,r,s,o,a,c,i,u,m,f,_,h,w,D,U,E,$,S,q,j,J,b,H,g,B,he,ee,K,v,G,x,X;return{c(){e=k("h1"),l=M("How to play"),t=N(),r=k("h4"),s=M("1. The black bottom bar of your screen is for navigating between pages, and the game board."),o=N(),a=k("ul"),c=k("li"),i=M("The far left button, a door, is for leaving this game."),u=N(),m=k("li"),f=M("The book button is for viewing this page, which is to help players."),_=N(),h=k("li"),w=M(`The hour glass button is for the history page, showing all the events that have happened in the
		game. It records when players join, leave, and when they play cards.`),D=N(),U=k("li"),E=M(`The far right button, of the two people, is for the game board, where you play UNO. You'll spend
		most of your time there.`),$=N(),S=k("h4"),q=M("2. The game board is split into 2 main parts:"),j=N(),J=k("ul"),b=k("li"),H=M(`The table, on the left, where you can see everyone else's hands, and the two stacks, the discard
		and draw pile.`),g=N(),B=k("li"),he=M(`Your hand is on the right, in a vertical strip. You can't reorder the cards in your hand, but
		they should automagically end up in a pleasing order.`),ee=N(),K=k("h4"),v=M("3. Move cards by clicking one to move, and then a destination."),G=N(),x=k("p"),X=M(`Clicking a card will select it, seen by it rising and shining. Then, click another card or area to
	move it to. If you accidentally selected the card or want to change your mind, click the card again
	to deselect it.`),this.h()},l(L){e=y(L,"H1",{});var Z=I(e);l=A(Z,"How to play"),Z.forEach(d),t=P(L),r=y(L,"H4",{class:!0});var we=I(r);s=A(we,"1. The black bottom bar of your screen is for navigating between pages, and the game board."),we.forEach(d),o=P(L),a=y(L,"UL",{});var ie=I(a);c=y(ie,"LI",{});var Ye=I(c);i=A(Ye,"The far left button, a door, is for leaving this game."),Ye.forEach(d),u=P(ie),m=y(ie,"LI",{});var Re=I(m);f=A(Re,"The book button is for viewing this page, which is to help players."),Re.forEach(d),_=P(ie),h=y(ie,"LI",{});var We=I(h);w=A(We,`The hour glass button is for the history page, showing all the events that have happened in the
		game. It records when players join, leave, and when they play cards.`),We.forEach(d),D=P(ie),U=y(ie,"LI",{});var qe=I(U);E=A(qe,`The far right button, of the two people, is for the game board, where you play UNO. You'll spend
		most of your time there.`),qe.forEach(d),ie.forEach(d),$=P(L),S=y(L,"H4",{class:!0});var Je=I(S);q=A(Je,"2. The game board is split into 2 main parts:"),Je.forEach(d),j=P(L),J=y(L,"UL",{});var He=I(J);b=y(He,"LI",{});var Ke=I(b);H=A(Ke,`The table, on the left, where you can see everyone else's hands, and the two stacks, the discard
		and draw pile.`),Ke.forEach(d),g=P(He),B=y(He,"LI",{});var Fe=I(B);he=A(Fe,`Your hand is on the right, in a vertical strip. You can't reorder the cards in your hand, but
		they should automagically end up in a pleasing order.`),Fe.forEach(d),He.forEach(d),ee=P(L),K=y(L,"H4",{class:!0});var Qe=I(K);v=A(Qe,"3. Move cards by clicking one to move, and then a destination."),Qe.forEach(d),G=P(L),x=y(L,"P",{});var Xe=I(x);X=A(Xe,`Clicking a card will select it, seen by it rising and shining. Then, click another card or area to
	move it to. If you accidentally selected the card or want to change your mind, click the card again
	to deselect it.`),Xe.forEach(d),this.h()},h(){C(r,"class","svelte-6xyuhn"),C(S,"class","svelte-6xyuhn"),C(K,"class","svelte-6xyuhn")},m(L,Z){T(L,e,Z),p(e,l),T(L,t,Z),T(L,r,Z),p(r,s),T(L,o,Z),T(L,a,Z),p(a,c),p(c,i),p(a,u),p(a,m),p(m,f),p(a,_),p(a,h),p(h,w),p(a,D),p(a,U),p(U,E),T(L,$,Z),T(L,S,Z),p(S,q),T(L,j,Z),T(L,J,Z),p(J,b),p(b,H),p(J,g),p(J,B),p(B,he),T(L,ee,Z),T(L,K,Z),p(K,v),T(L,G,Z),T(L,x,Z),p(x,X)},p:F,i:F,o:F,d(L){L&&d(e),L&&d(t),L&&d(r),L&&d(o),L&&d(a),L&&d($),L&&d(S),L&&d(j),L&&d(J),L&&d(ee),L&&d(K),L&&d(G),L&&d(x)}}}class Gl extends le{constructor(e){super();re(this,e,null,Al,ne,{})}}function St(n,e){const l=new Date(e),t=Math.round((n-+l)/1e3),r=60,s=r*60,o=s*24;let a;return t<2?a="just now":t<r?a=t+" seconds ago":t<2*r?a="a minute ago":t<s?a=Math.floor(t/r)+" minutes ago":Math.floor(t/s)==1?a="1 hour ago":t<o?a=Math.floor(t/s)+" hours ago":t<o*2&&(a="yesterday"),a}function Ct(n,e,l){const t=n.slice();return t[4]=e[l],t}function Lt(n,e){let l,t,r=St(e[0],e[4].time)+"",s,o,a,c=e[4].message+"",i,u;return{key:n,first:null,c(){l=k("div"),t=k("span"),s=M(r),o=N(),a=k("div"),i=M(c),u=N(),this.h()},l(m){l=y(m,"DIV",{});var f=I(l);t=y(f,"SPAN",{});var _=I(t);s=A(_,r),_.forEach(d),o=P(f),a=y(f,"DIV",{});var h=I(a);i=A(h,c),h.forEach(d),u=P(f),f.forEach(d),this.h()},h(){this.first=l},m(m,f){T(m,l,f),p(l,t),p(t,s),p(l,o),p(l,a),p(a,i),p(l,u)},p(m,f){e=m,f&5&&r!==(r=St(e[0],e[4].time)+"")&&_e(s,r),f&4&&c!==(c=e[4].message+"")&&_e(i,c)},d(m){m&&d(l)}}}function zl(n){let e,l,t,r,s=[],o=new Map,a=n[2];const c=i=>i[4].time;for(let i=0;i<a.length;i+=1){let u=Ct(n,a,i),m=c(u);o.set(m,s[i]=Lt(m,u))}return{c(){e=k("h1"),l=M("History"),t=N(),r=k("div");for(let i=0;i<s.length;i+=1)s[i].c()},l(i){e=y(i,"H1",{});var u=I(e);l=A(u,"History"),u.forEach(d),t=P(i),r=y(i,"DIV",{});var m=I(r);for(let f=0;f<s.length;f+=1)s[f].l(m);m.forEach(d)},m(i,u){T(i,e,u),p(e,l),T(i,t,u),T(i,r,u);for(let m=0;m<s.length;m+=1)s[m].m(r,null);n[3](r)},p(i,[u]){u&5&&(a=i[2],s=Be(s,u,c,1,i,a,o,r,Zt,Lt,null,Ct))},i:F,o:F,d(i){i&&d(e),i&&d(t),i&&d(r);for(let u=0;u<s.length;u+=1)s[u].d();n[3](null)}}}function Yl(n,e,l){let t;Q(n,ft,a=>l(2,t=a));let r=new Date,s;Se(()=>{s.scrollIntoView(!1),setInterval(()=>{l(0,r=new Date)},3e3+Math.random()*3e3)});function o(a){Me[a?"unshift":"push"](()=>{s=a,l(1,s)})}return[r,s,t,o]}class Rl extends le{constructor(e){super();re(this,e,Yl,zl,ne,{})}}function Nt(n){let e,l,t,r,s;const o=[Jl,ql,Wl],a=[];function c(i,u){return i[1].page==="leave"?0:i[1].page==="help"?1:i[1].page==="history"?2:-1}return~(l=c(n))&&(t=a[l]=o[l](n)),{c(){e=k("div"),t&&t.c(),this.h()},l(i){e=y(i,"DIV",{class:!0,style:!0});var u=I(e);t&&t.l(u),u.forEach(d),this.h()},h(){C(e,"class","page svelte-8vad2g"),de(e,"background-color",n[1].color.replace("60%, 1)","40%, 0.8)"))},m(i,u){T(i,e,u),~l&&a[l].m(e,null),s=!0},p(i,u){let m=l;l=c(i),l!==m&&(t&&(oe(),O(a[m],1,1,()=>{a[m]=null}),ae()),~l?(t=a[l],t||(t=a[l]=o[l](i),t.c()),V(t,1),t.m(e,null)):t=null),(!s||u&2)&&de(e,"background-color",i[1].color.replace("60%, 1)","40%, 0.8)"))},i(i){s||(V(t),Ee(()=>{r||(r=st(e,me,{y:-1e3,duration:1e3},!0)),r.run(1)}),s=!0)},o(i){O(t),r||(r=st(e,me,{y:-1e3,duration:1e3},!1)),r.run(0),s=!1},d(i){i&&d(e),~l&&a[l].d(),i&&r&&r.end()}}}function Wl(n){let e,l;return e=new Rl({}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function ql(n){let e,l;return e=new Gl({}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Jl(n){let e,l;return e=new Ml({}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Kl(n){let e,l,t,r,s,o,a,c,i,u,m,f,_=n[1].page&&Nt(n);return s=new Vl({}),a=new Il({}),i=new yl({}),m=new Ul({}),{c(){e=k("div"),_&&_.c(),l=N(),t=k("div"),r=k("div"),z(s.$$.fragment),o=N(),z(a.$$.fragment),c=N(),z(i.$$.fragment),u=N(),z(m.$$.fragment),this.h()},l(h){e=y(h,"DIV",{class:!0,style:!0});var w=I(e);_&&_.l(w),l=P(w),t=y(w,"DIV",{class:!0});var D=I(t);r=y(D,"DIV",{class:!0});var U=I(r);Y(s.$$.fragment,U),o=P(U),Y(a.$$.fragment,U),U.forEach(d),c=P(D),Y(i.$$.fragment,D),D.forEach(d),u=P(w),Y(m.$$.fragment,w),w.forEach(d),this.h()},h(){C(r,"class","table svelte-8vad2g"),C(t,"class","hand-table svelte-8vad2g"),C(e,"class","game svelte-8vad2g"),de(e,"height","calc("+n[0]+"px + 0.5rem)")},m(h,w){T(h,e,w),_&&_.m(e,null),p(e,l),p(e,t),p(t,r),R(s,r,null),p(r,o),R(a,r,null),p(t,c),R(i,t,null),p(e,u),R(m,e,null),f=!0},p(h,[w]){h[1].page?_?(_.p(h,w),w&2&&V(_,1)):(_=Nt(h),_.c(),V(_,1),_.m(e,l)):_&&(oe(),O(_,1,1,()=>{_=null}),ae()),(!f||w&1)&&de(e,"height","calc("+h[0]+"px + 0.5rem)")},i(h){f||(V(_),V(s.$$.fragment,h),V(a.$$.fragment,h),V(i.$$.fragment,h),V(m.$$.fragment,h),f=!0)},o(h){O(_),O(s.$$.fragment,h),O(a.$$.fragment,h),O(i.$$.fragment,h),O(m.$$.fragment,h),f=!1},d(h){h&&d(e),_&&_.d(),W(s),W(a),W(i),W(m)}}}function Fl(n,e,l){let t;Q(n,Ve,s=>l(1,t=s));let r=window.innerHeight;return Se(()=>{addEventListener("resize",()=>{l(0,r=window.innerHeight)})}),[r,t]}class Ql extends le{constructor(e){super();re(this,e,Fl,Kl,ne,{})}}function Pt(n){let e,l;return e=new ll({props:{style:n[1].style,message:n[1].message,closable:n[1].closable}}),e.$on("close",n[5]),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){R(e,t,r),l=!0},p(t,r){const s={};r&2&&(s.style=t[1].style),r&2&&(s.message=t[1].message),r&2&&(s.closable=t[1].closable),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Xl(n){let e,l,t,r,s;return l=new Ql({}),{c(){e=k("div"),z(l.$$.fragment),this.h()},l(o){e=y(o,"DIV",{class:!0});var a=I(e);Y(l.$$.fragment,a),a.forEach(d),this.h()},h(){C(e,"class","svelte-nrbvt4")},m(o,a){T(o,e,a),R(l,e,null),s=!0},p(o,a){n=o},i(o){s||(V(l.$$.fragment,o),Ee(()=>{r&&r.end(1),t=Ce(e,me,n[2]),t.start()}),s=!0)},o(o){O(l.$$.fragment,o),t&&t.invalidate(),r=Le(e,me,n[3]),s=!1},d(o){o&&d(e),W(l),o&&r&&r.end()}}}function Zl(n){let e,l,t,r,s;return l=new vl({}),{c(){e=k("div"),z(l.$$.fragment),this.h()},l(o){e=y(o,"DIV",{class:!0});var a=I(e);Y(l.$$.fragment,a),a.forEach(d),this.h()},h(){C(e,"class","svelte-nrbvt4")},m(o,a){T(o,e,a),R(l,e,null),s=!0},p(o,a){n=o},i(o){s||(V(l.$$.fragment,o),Ee(()=>{r&&r.end(1),t=Ce(e,me,n[2]),t.start()}),s=!0)},o(o){O(l.$$.fragment,o),t&&t.invalidate(),r=Le(e,me,n[3]),s=!1},d(o){o&&d(e),W(l),o&&r&&r.end()}}}function xl(n){let e,l,t,r,s;return l=new cl({}),{c(){e=k("div"),z(l.$$.fragment),this.h()},l(o){e=y(o,"DIV",{class:!0});var a=I(e);Y(l.$$.fragment,a),a.forEach(d),this.h()},h(){C(e,"class","svelte-nrbvt4")},m(o,a){T(o,e,a),R(l,e,null),s=!0},p(o,a){n=o},i(o){s||(V(l.$$.fragment,o),Ee(()=>{r&&r.end(1),t=Ce(e,me,n[2]),t.start()}),s=!0)},o(o){O(l.$$.fragment,o),t&&t.invalidate(),r=Le(e,me,n[3]),s=!1},d(o){o&&d(e),W(l),o&&r&&r.end()}}}function er(n){let e,l,t,r,s,o=n[1].show&&Pt(n);const a=[xl,Zl,Xl],c=[];function i(u,m){return u[0]==="profile"?0:u[0]==="lobby"?1:u[0]==="game"?2:-1}return~(t=i(n))&&(r=c[t]=a[t](n)),{c(){o&&o.c(),e=N(),l=k("div"),r&&r.c(),this.h()},l(u){o&&o.l(u),e=P(u),l=y(u,"DIV",{class:!0});var m=I(l);r&&r.l(m),m.forEach(d),this.h()},h(){C(l,"class","game svelte-nrbvt4")},m(u,m){o&&o.m(u,m),T(u,e,m),T(u,l,m),~t&&c[t].m(l,null),s=!0},p(u,[m]){u[1].show?o?(o.p(u,m),m&2&&V(o,1)):(o=Pt(u),o.c(),V(o,1),o.m(e.parentNode,e)):o&&(oe(),O(o,1,1,()=>{o=null}),ae());let f=t;t=i(u),t===f?~t&&c[t].p(u,m):(r&&(oe(),O(c[f],1,1,()=>{c[f]=null}),ae()),~t?(r=c[t],r?r.p(u,m):(r=c[t]=a[t](u),r.c()),V(r,1),r.m(l,null)):r=null)},i(u){s||(V(o),V(r),s=!0)},o(u){O(o),O(r),s=!1},d(u){o&&o.d(u),u&&d(e),u&&d(l),~t&&c[t].d()}}}function tr(n,e,l){let t,r,s;Q(n,ke,i=>l(4,t=i)),Q(n,ct,i=>l(0,r=i)),Q(n,pe,i=>l(1,s=i)),Se(()=>{ue("register",{recovery:localStorage.getItem("recovery")})});const o={x:400,duration:500},a={x:-400,duration:500},c=()=>{$e(pe,s.show=!1,s)};return n.$$.update=()=>{n.$$.dirty&17&&r==="lobby"&&window.history.replaceState(null,null,`?code=${t.toUpperCase()}`)},[r,s,o,a,t,c]}class or extends le{constructor(e){super();re(this,e,tr,er,ne,{})}}export{or as default};
